"use strict";!function(){function e(){function e(e,t){function n(n){var o=$.makeArray(e.classList),a=n[0].oldValue,r=i||(a?a.split(" "):[]),c=o.filter(s,r),l=r.filter(s,o);t(c,l,o,r),i=o}function s(e){return this.indexOf(e)<0}var i,o=new MutationObserver(n);return o.observe(e,{attributes:!0,attributeOldValue:!0}),o.old=i,o}function t(t,n,s,i){function o(e,t){return t.every(function(t){return e.indexOf(t)>=0})}var a=n.split(" ");return s="function"==typeof s?s:function(){},i="function"==typeof i?i:function(){},new e(t,function(e,t,n,r){a.length>1?!o(r,a)&&o(n,a)?s():o(r,a)&&!o(n,a)&&i():o(e,a)?s():o(t,a)&&i()})}function n(e,t){var n,s,i=!1;return function(){return i?(n=arguments,void(s=this)):(i=!0,void setTimeout(function(){i=!1,e.apply(s,n),n=s=null},t))}}function s(){$(".b-main").innerHeight()<=$(window).innerHeight()?D.css("padding-right","").addClass("no-scroll"):D.css("padding-right",S).addClass("no-scroll")}function i(){D.removeClass("no-scroll").css("padding-right","")}function o(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/");return t>0||n>0}function a(){o()?$("html").addClass("no-object-fit"):$("html").addClass("object-fit")}function r(){for(var e=document.querySelectorAll(".js-video"),t=0;t<e.length;t++)c(e[t])}function c(e){var t=e.querySelector(".js-video__link"),n=e.querySelector(".js-video__media"),s=(e.querySelector(".js-video__button"),l(n));e.addEventListener("click",function(){var t=d(s);$(".js-video").removeClass("js-video__link"),$(".js-video").removeClass("js-video__button"),e.appendChild(t)}),t.removeAttribute("href"),e.classList.add("b-video--enabled")}function l(e){var t=/https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i,n=e.src,s=n.match(t);return s[1]}function d(e){var t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay"),t.setAttribute("src",u(e)),t.classList.add("b-video__media"),t}function u(e){var t="?rel=0&showinfo=0&autoplay=1";return"https://www.youtube.com/embed/"+e+t}function p(){Z.removeClass("is-open").delay(300).queue(function(e){$(this).hide(),e()}),I.removeClass("is-open"),i()}function f(){(J.hasClass("is-open")||U.hasClass("is-open"))&&(j(),w()),I.addClass("is-open"),Z.show().delay(10).queue(function(e){$(this).addClass("is-open"),e()}),s()}function h(e){var t=e.children().html();H.css("pointer-events","auto"),P.html(t).parent().removeClass("hidden")}function v(){P.html("").parent().addClass("hidden"),H.css("pointer-events","")}function m(e){N.hide(),N.attr("src",e).fadeIn()}function b(){(Z.hasClass("is-open")||U.hasClass("is-open"))&&(p(),w()),G.addClass("is-open"),J.show().delay(10).queue(function(e){$(this).addClass("is-open"),e()}),s()}function j(){J.removeClass("is-open").delay(300).queue(function(e){$(this).hide(),e()}),G.removeClass("is-open"),i()}function g(){var e=$(".js-promo-slider");e.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,mobileFirst:!0,responsive:[{breakpoint:1023,settings:{slidesToShow:2}},{breakpoint:1439,settings:{slidesToShow:3}}]})}function C(){(Z.hasClass("is-open")||J.hasClass("is-open"))&&(p(),j()),Q.addClass("is-open"),U.show().delay(10).queue(function(e){$(this).addClass("is-open"),e()}),s()}function w(){U.removeClass("is-open").delay(300).queue(function(e){$(this).hide(),e()}),Q.removeClass("is-open"),i()}var k=.3,y=["bebe","beeb","ebeb","ebbe"],x=".js-on-visible",_="animated",A=x+"."+_,z=".js-is-visible",M="in-viewport",O="hold-outside-viewport";$(document).ready(function(){function e(e,t){function n(e){var t=e.getBoundingClientRect(),n=[["b",i],["b",o],["e",t.top],["e",t.bottom]].sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]}).join("");return y.indexOf(n)>=0}var s=window.innerHeight,i=k*s,o=(1-k)*s;$(A).each(function(){!this.classList.contains(O)&&n(this)&&this.classList.remove(_)}),i=0,o=s,$(z).each(function(){this.classList.toggle(M,!this.classList.contains(O)&&n(this))})}var s=n(e,200),i=$(x+","+z);i.length&&($(window).off("scroll",s),$(".os-viewport").on("scroll",s),e(),i.each(function(){t(this,O,e,e)}))});var q=$("body"),D=$(".js-page-wrapper"),S=function(){var e=$("<div>").css({height:"50px",width:"50px"}),t=$("<div>").css({height:"200px"});q.append(e.append(t));var n=$("div",e).innerWidth();e.css("overflow-y","scroll");var s=$("div",e).innerWidth();return $(e).remove(),n-s};$(window).resize(function(){$(window).width()>=1366&&i()}),$(document).ready(function(){function e(){s.hasClass("open")&&(D.removeClass("no-scroll no-touch windows"),s.removeClass("open"),s.stop().fadeOut(300))}function t(e,t){var n=document,s=n.body,i=n.querySelector(t),o="client"+e;return e="scroll"+e,/CSS/.test(n.compatMode)?i[o]<i[e]:s[o]<s[e]}function n(){$(this).trigger("popup.open",[e]);var e=$(".b-popup[data-popup='"+$(this).attr("data-popup")+"']");e.length>0&&(o&&t("Height",".b-page-wrapper")&&D.addClass("windows"),s.removeClass("open"),s.fadeOut(300),D.addClass("no-scroll no-touch"),e.addClass("open"),e.css("display","flex").hide().fadeIn(300))}var s=$(".b-popup"),i=$(".b-popup__content"),o=navigator.userAgent.toLowerCase().indexOf("windows")!==-1;$(".js-open-popup").on("popup.onClose",function(t){e()}),$(document).on("click",".js-open-popup",function(){$(this).trigger("popup.onOpen")}),$(".js-open-popup").on("popup.onOpen",function(){n.call(this)}),$(document).on("click",".js-close-popup",function(){e(),$(".js-menu-in-popup-back").length&&$(".js-menu-in-popup-back").trigger("click")}),$(document).on("keydown",function(t){27===t.keyCode&&e()}),$(document).mouseup(function(t){s.hasClass("open")&&(i.is(t.target)||0!==i.has(t.target).length||e())})}),a();var T=window.navigator.userAgent;T.match(/Mac/i)&&(T.match(/iPad/i)||T.match(/iPhone/i)?$("html").addClass("ios"):$("html").addClass("mac")),r();var L=$(".js-header"),I=L.find(".js-burger"),Z=L.find(".js-menu");I.on("click",function(){Z.hasClass("is-open")?p():f()});var E=$(".js-constructor"),F=E.find(".js-constructor-link"),W=E.find(".js-constructor-back"),H=E.find(".js-backcrumbs"),P=H.find(".js-backcrumbs-item"),V=E.find(".js-size-box"),R=V.find(".js-size-button"),Y=V.find(".js-size-input-min").children("input"),B=V.find(".js-size-input-max").children("input"),N=$(".js-door-target");F.on("click",function(){E.addClass("is-expand"),h($(this)),$(this).siblings(".js-constructor-filter").show().delay(10).queue(function(e){$(this).addClass("is-expand"),e()})}),W.on("click",function(e){e.preventDefault(),v(),E.removeClass("is-expand").find(".js-constructor-filter.is-expand").removeClass("is-expand").delay(300).queue(function(e){$(this).hide(),e()})}),$(".js-radio-button").on("change",function(){var e=$(this),t=e.closest(".js-constructor-filter").siblings(".js-current-wrap"),n=t.find(".js-current-box"),s=e.siblings("label").children(".js-current-el").clone(),i=this.dataset.target;e.is(":checked")&&(m(i),n.html(""),s.appendTo(n),t.show(),j())}),$(".js-constructor-clear").on("click",function(){$(this).siblings(".js-current-box").html("").closest(".js-current-wrap").hide().siblings(".js-constructor-filter").find(".js-radio-button:checked").prop("checked",!1)}),Y.add(B).on("input",function(){Y.val()>0&&""!=Y.val()&&B.val()>0&&""!=B.val()?R.removeAttr("disabled"):R.attr("disabled","disabled")}),R.on("click",function(e){var t=$(this),n=t.closest(".js-constructor-filter"),s=n.siblings(".js-current-wrap"),i=s.find(".js-current-box"),o='<span class="b-radio-button__wrap js-current-el"><span class="b-radio-button__image"><span style="background: #7C7C7C;"><i class="b-icon icon-maximize"></i></span></span><span class="b-radio-button__text-label">'+Y.val()+" x "+B.val()+"</span></span>";e.preventDefault(),n.find(".js-radio-button:checked").prop("checked",!1),i.html(o),s.show(),j()}),$(".js-constructor-slider").each(function(){function e(e){var n=$("html").hasClass("no-object-fit")?t.find(".slick-active").data("slick-index")*-138:Number($(".js-constructor-slider .slick-track").css("transform").split(", ")[4]),s=e?$(".js-constructor-slider .slick-track").innerWidth()-18+n:$(".js-constructor-slider .slick-track").innerWidth()-18,i=$(".js-constructor-slider").parent().innerWidth();s<=i?t.parents(".b-constructor-slider__slider-wrap").addClass("visible"):t.parents(".b-constructor-slider__slider-wrap").removeClass("visible")}var t=$(this),n=t.parents(".b-constructor-slider__slider-wrap").find(".js-constructor-prev"),s=t.parents(".b-constructor-slider__slider-wrap").find(".js-constructor-next");t.on("init",e),t.slick({slidesToShow:1,slidesToScroll:1,dots:!1,focusOnSelect:!1,infinite:!1,mobileFirst:!0,arrows:!0,prevArrow:n,nextArrow:s,swipe:!1,accessibility:!1}).on("beforeChange",function(e,t,n,s){e.preventDefault();var i=$(".js-door-btn")[s].dataset.target;m(i)}).on("afterChange",function(){e(!0)}),$($(".js-door-target")[0]).show(),$(".js-door-btn").on("click",function(){var e=this.dataset.target;m(e)}),$(".js-color-radio-input").on("change",function(){var e=$(this).attr("id"),t=$(this).parent().parent().siblings();$(this).is(":checked")&&(t.find("label").removeClass("active"),t.find('label[for="'+e+'"]').addClass("active"))}),$(window).on("resize",e)}),$(document).ready(function(){objectFitImages(".js-image-wrapper")});var G=$(".js-aside-open"),J=$(".js-aside"),K=$(".js-close");G.on("click",function(){J.hasClass("is-open")?j():b()}),K.on("click",function(){j()}),$(".js-input").on("focusin",function(){$(this).siblings("label").hide(),$(this).closest(".js-input-wrapper").addClass("active")}),$(".js-input").on("focusout",function(){$(this).val().length>0||($(this).siblings("label").show(),$(this).closest(".js-input-wrapper").removeClass("active"))}),$(".js-minus").on("click",function(){var e=$(this).siblings(".js-input-count"),t=parseInt(e.val())-1;return t=t<1?0:t,e.val(t),e.on("change"),!1}),$(".js-plus").on("click",function(){var e=$(this).siblings(".js-input-count");return e.val(parseInt(e.val())+1),e.on("change"),!1}),$(".js-input-count").on("change",function(e){""==e.target.value&&(e.target.value=1)}),$(".js-edit").on("click",function(e){var t=$(".js-cart"),n=$(".js-card");e.preventDefault(),t.addClass("edit"),$(this).closest(n).addClass("is-edit")}),$(".js-button-edit").on("click",function(e){var t=$(".js-cart"),n=$(".js-card");e.preventDefault(),t.removeClass("edit"),n.removeClass("is-edit")}),$(".js-search").on("focusin",function(){$(this).addClass("active")}),$(".js-search").on("focusout",function(){$(this).removeClass("active")}),$(".js-promo-slider").length&&g(),$(document).ready(function(){var e={ignore:'.ignore, [type="hidden"]'};$.validator.setDefaults({debug:!0}),$.extend($.validator.messages,{required:"Это обязательное поле",email:"Неверный формат данных",tel:"Неверный формат данных",date:"Пожалуйста, введите корректную дату.",number:"Пожалуйста, введите число.",equalTo:"Пароли не совпадают"}),$.validator.addMethod("max-length",function(e,t,n){return e.length<=n},"Введите не более 140 символов"),$.validator.addMethod("js-tel-input",function(e,t){if(16==e.trim().length)return!0},"Пожалуйста, введите не менее 12 символов"),$.validator.addMethod("js-mask-tel",function(e,t,n){return e.indexOf("_")==-1},"Неверный формат данных"),$.validator.addMethod("js-valid-text",function(e,t){if(""!=e.trim())return!0},"Неверный формат данных"),$.validator.addMethod("js-regex",function(e,t){if(""!=e.trim())return this.optional(t)||/^[a-zA-Zа-яА-ЯЁё ]+$/.test(e)},"Только буквы"),$.validator.addMethod("js-valid-date",function(e,t){var n,s=new Date,i=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),o=e.split("."),a=new Date(o[2]+"/"+o[1]+"/"+o[0]);return n=o[2]==a.getFullYear()&&o[1]==a.getMonth()+1&&o[0]==a.getDate()&&Date.parse(i)<=Date.parse(a),this.optional(t)||n},"Некорректная дата");var t;$.validator.addMethod("js-remote-email",function(e,t){var n=!1;return $.ajax({url:$("[data-remote-email]").data("remote-email"),data:{value:e},async:!1,success:function(e){n=e}}),n},"E-mail уже занят"),$.validator.addMethod("js-remote-phone",function(e,t){var n=!1;return $.ajax({url:$(t).data("remote-phone"),data:{value:e},async:!1,success:function(e){n=e}}),n},"Телефон уже занят"),$.validator.addMethod("max-message",function(e,t){return this.optional(t)||/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/i.test(e)},"Пароль должен содержать не менее 6 символов, в том числе цифры и буквы латинского алфавита"),$.validator.addMethod("js-remote-subscribe",function(e,t){var n=!1;return $.ajax({url:$(t).data("remote-subscribe"),data:{value:e},async:!1,success:function(e){n=e}}),n},"Данный E-mail уже участвует в рассылке"),$.validator.addMethod("filereqired",function(e,t,n){return"file"===$(t).attr("type")&&t.files&&t.files.length},"Файл не добавлен"),$.validator.addMethod("extension",function(e,t,n){if(n="string"==typeof n?n.replace(/,/g,"|"):"png|jpe?g|gif","file"===$(t).attr("type")&&t.files&&t.files.length)for(var s=0;s<t.files.length;s++)return this.optional(t)||t.files[s].name.match(new RegExp("\\.("+n+")$","i"));return!0},$.validator.format("")),$.validator.addMethod("maxsize",function(e,t,n){if(this.optional(t))return!0;if(n=1024*n,"file"===$(t).attr("type")&&t.files&&t.files.length)for(var s=0;s<t.files.length;s++)return t.files[s].size<=n;return!0},""),$.validator.addMethod("enter-email",function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)||/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(e)},"Неверный формат данных"),$("body").on("initValidation",function(){$(".js-form-validate").each(function(){var n=$(this),s={};n.hasClass("js-order-unregistered-form")&&(s={focusInvalid:!0,errorPlacement:function(e,t){e.insertAfter(t)}});var i=$.extend(s,e);n.data("error-selector")&&(i.errorLabelContainer=n.data("error-selector"));var o=n.validate(i),a=n.find("input.js-remote-subscribe, input.js-remote-user, input.js-remote-phone, input.js-remote-email");a.on("keydown",function(){var e=$(this);e.addClass("ignore")}).on("keyup",function(){clearTimeout(t);var e=this;t=setTimeout(function(){a.removeClass("ignore"),o.element(e)},1e3)}),n.hasClass("js-order-unregistered-form")&&setTimeout(function(){o=n.validate(i)},5e3),n.on("reset",function(e){o.resetForm()}),n.on("submit",function(e){if(o.numberOfInvalids()>0)e.stopImmediatePropagation();else{var t=n,s=t.attr("action")||location.href,i=t.attr("method"),e=t.data("event"),a=new FormData(n[0]);$.ajax({url:s,method:i,processData:!1,contentType:!1,data:a,success:function(){var e=$("div[data-popup~='success']");e.addClass("open"),n[0].reset()},error:function(){var e=$("div[data-popup~='error']");e.addClass("open"),n[0].reset()}})}}),n.find(".js-licence-accept").on("change",function(e){var t=n.find('button[type="submit"]');e.target.checked?t.removeClass("disabled"):t.addClass("disabled")}),n.find(".js-check-form").on("click",function(e){var t=$(this);o.numberOfInvalids()||(o.form(),n.valid(),setTimeout(function(){0==o.numberOfInvalids()&&t.trigger("popup.onOpen")},1e3))}),$(".js-simple-select").on("select2:select",function(){o.element(this)})})}),$("body").trigger("initValidation")});var Q=$(".js-authorization-open"),U=$(".js-authorization"),X=$(".js-close");Q.on("click",function(){U.hasClass("is-open")?w():C()}),X.on("click",function(){w()});var ee=$(".js-input-password"),te=$(".js-input-password").parent(),ne=$(".js-button-password"),se=$(".js-input-login"),ie=$(".js-button-login");ne.on("click",function(e){e.preventDefault(),te.hasClass("is-visible")?(ee.attr("type","password"),te.removeClass("is-visible")):(ee.attr("type","text"),te.addClass("is-visible"))}),ee.add(se).on("input",function(){ee.val().length>0&&se.val().length>0?ie.removeAttr("disabled"):ie.attr("disabled","disabled")})}document.addEventListener("DOMContentLoaded",e)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludGVybmFsLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50UmVhZHkiLCJDbGFzc0V2ZW50IiwiZWwiLCJmdW5jIiwiY2FsbGJhY2siLCJtdXRhdGlvbnNMaXN0IiwibmV3Q2xhc3MiLCIkIiwibWFrZUFycmF5IiwiY2xhc3NMaXN0Iiwib2xkVmFsdWUiLCJvbGRDbGFzcyIsIm9sZCIsInNwbGl0IiwiYWRkZWQiLCJmaWx0ZXIiLCJjaGFuZ2VkIiwicmVtb3ZlZCIsImUiLCJ0aGlzIiwiaW5kZXhPZiIsIm1vIiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlT2xkVmFsdWUiLCJvYnNlcnZlQ2xhc3NlcyIsIl9jbGFzcyIsInNob3ciLCJyZXNldCIsInRlc3QiLCJhcnIiLCJwcm9iZSIsImV2ZXJ5IiwiY2xhc3NBcnJheSIsImFsbCIsImxlbmd0aCIsInRocm90dGxlIiwibXMiLCJzYXZlZEFyZ3MiLCJzYXZlZFRoaXMiLCJpc1Rocm90dGxlZCIsImFyZ3VtZW50cyIsInNldFRpbWVvdXQiLCJhcHBseSIsImxvY2tQYWdlIiwiaW5uZXJIZWlnaHQiLCJ3aW5kb3ciLCIkcGFnZSIsImNzcyIsImFkZENsYXNzIiwic2Nyb2xsV2lkdGgiLCJ1bmxvY2tQYWdlIiwicmVtb3ZlQ2xhc3MiLCJpc0lFIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtc2llIiwidHJpZGVudCIsIlNob3dJRUFsZXJ0IiwiZmluZFZpZGVvcyIsInZpZGVvcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJzZXR1cFZpZGVvIiwidmlkZW8iLCJsaW5rIiwicXVlcnlTZWxlY3RvciIsIm1lZGlhIiwiaWQiLCJwYXJzZU1lZGlhVVJMIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlmcmFtZSIsImNyZWF0ZUlmcmFtZSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwiYWRkIiwicmVnZXhwIiwidXJsIiwic3JjIiwibWF0Y2giLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZ2VuZXJhdGVVUkwiLCJxdWVyeSIsIm1lbnVDbG9zZSIsIiRtZW51IiwiZGVsYXkiLCJxdWV1ZSIsIm5leHQiLCJoaWRlIiwiJGJ1cmdlciIsIm1lbnVPcGVuIiwiJGFzaWRlIiwiaGFzQ2xhc3MiLCIkYXV0aG9yaXphdGlvbiIsImFzaWRlQ2xvc2UiLCJhdXRob3JpemF0aW9uQ2xvc2UiLCJhcHBlbmRDcnVtYiIsIiRlbCIsInRleHQiLCJjaGlsZHJlbiIsImh0bWwiLCIkYmFja2NydW1icyIsIiRiYWNrY3J1bWJzSXRlbSIsInBhcmVudCIsInJlbW92ZUNydW1iIiwiY2hhbmdlRG9vciIsImRvb3IiLCIkZG9vciIsImF0dHIiLCJmYWRlSW4iLCJhc2lkZU9wZW4iLCIkYXNpZGVMaW5rIiwiaW5pdFByb21vU2xpZGVyIiwiJHNsaWNrRWxlbWVudCIsInNsaWNrIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJhcnJvd3MiLCJtb2JpbGVGaXJzdCIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJhdXRob3JpemF0aW9uT3BlbiIsIiRhdXRob3JpemF0aW9uTGluayIsIk9GRlNFVCIsIklOU0lERV9QQVRURVJOUyIsIkFOSU1BVElPTl9DTEFTUyIsIkhJRERFTl9DTEFTUyIsIkFOSU1BVElPTl9ISURERU5fQ0xBU1MiLCJWSUVXUE9SVF9DTEFTUyIsIklOX0NMQVNTIiwiSE9MRF9DTEFTUyIsInJlYWR5IiwiY2hlY2tFZGdlcyIsImluc2lkZSIsIm91dHNpZGUiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwYXR0ZXJuIiwidG9wIiwiYm90dG9tIiwic29ydCIsImEiLCJiIiwibWFwIiwiam9pbiIsInZpZXdwb3J0SGVpZ2h0IiwiZWFjaCIsImNvbnRhaW5zIiwicmVtb3ZlIiwidG9nZ2xlIiwidGhyX2NoZWNrRWRnZXMiLCIkZWxlbWVudHMiLCJvZmYiLCJvbiIsIiRib2R5IiwiYmxvY2siLCJoZWlnaHQiLCJ3aWR0aCIsImluZGljYXRvciIsImFwcGVuZCIsIncxIiwiaW5uZXJXaWR0aCIsIncyIiwicmVzaXplIiwiY2xvc2VQb3BVcCIsIiRwb3BVcCIsInN0b3AiLCJmYWRlT3V0IiwiZ2V0U2Nyb2xsIiwic2Nyb2xsIiwic2VsZWN0b3IiLCJkb2MiLCJib2R5IiwiZWxlbWVudCIsImNsaWVudCIsImNvbXBhdE1vZGUiLCJvcGVuUG9wVXAiLCJ0cmlnZ2VyIiwiJHBvcFVwRGF0ZSIsIndpbmRvd3NPUyIsIiRwb3BVcENvbnRlbnQiLCJ0b0xvd2VyQ2FzZSIsImV2ZW50IiwiY2FsbCIsImtleUNvZGUiLCJtb3VzZXVwIiwiaXMiLCJ0YXJnZXQiLCJoYXMiLCIkaGVhZGVyIiwiZmluZCIsIiRjb25zdHJ1Y3RvciIsIiRjb25zdHJ1Y3RvckxpbmsiLCIkY29uc3RydWN0b3JCYWNrIiwiJHNpemVCb3giLCIkc2l6ZUJ1dHRvbiIsIiRzaXplTWluIiwiJHNpemVNYXgiLCJzaWJsaW5ncyIsInByZXZlbnREZWZhdWx0IiwiJHRoaXMiLCIkY3VycmVudEVsV3JhcCIsImNsb3Nlc3QiLCIkY3VycmVudEVsQm94IiwiY29udGVudCIsImNsb25lIiwiY3VycmVudERvb3IiLCJkYXRhc2V0IiwiYXBwZW5kVG8iLCJwcm9wIiwidmFsIiwicmVtb3ZlQXR0ciIsIiRmaWx0ZXIiLCJjaGVja1Zpc2liaWxpdHkiLCJjaGFuZ2UiLCJ0cmFuc2Zvcm1hdGlvbiIsIiRzbGlkZXIiLCJkYXRhIiwiTnVtYmVyIiwid2lkdGhUcmFjayIsIndpZHRoU2xpZGVyIiwicGFyZW50cyIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsImRvdHMiLCJmb2N1c09uU2VsZWN0IiwiaW5maW5pdGUiLCJzd2lwZSIsImFjY2Vzc2liaWxpdHkiLCJjdXJyZW50U2xpZGUiLCJuZXh0U2xpZGUiLCIkbGFiZWxzV3JhcCIsIm9iamVjdEZpdEltYWdlcyIsIiRhc2lkZUNsb3NlIiwiJGlucHV0IiwiY291bnQiLCJwYXJzZUludCIsInZhbHVlIiwiJGNhcnQiLCIkY2FyZCIsIlNFVFRJTkdTIiwiaWdub3JlIiwidmFsaWRhdG9yIiwic2V0RGVmYXVsdHMiLCJkZWJ1ZyIsImV4dGVuZCIsIm1lc3NhZ2VzIiwicmVxdWlyZWQiLCJlbWFpbCIsInRlbCIsImRhdGUiLCJudW1iZXIiLCJlcXVhbFRvIiwiYWRkTWV0aG9kIiwicGFyYW1zIiwidHJpbSIsIm9wdGlvbmFsIiwiJHJlc3VsdCIsIm5vdyIsIkRhdGUiLCJub3dEYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJkX2FyciIsImQiLCJwYXJzZSIsImNoZWNraW5nIiwiaXNTdWNjZXNzIiwiYWpheCIsImFzeW5jIiwic3VjY2VzcyIsIm1zZyIsImZpbGVzIiwicGFyYW0iLCJyZXBsYWNlIiwibmFtZSIsIlJlZ0V4cCIsImZvcm1hdCIsInNpemUiLCJsb2NhbFNldHRpbmdzIiwiZm9jdXNJbnZhbGlkIiwiZXJyb3JQbGFjZW1lbnQiLCJlcnJvciIsImluc2VydEFmdGVyIiwiZXJyb3JMYWJlbENvbnRhaW5lciIsInZhbGlkYXRlIiwiJHJlbW90ZSIsImNsZWFyVGltZW91dCIsIl90aGlzIiwicmVzZXRGb3JtIiwibnVtYmVyT2ZJbnZhbGlkcyIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIiRmb3JtIiwibG9jYXRpb24iLCJocmVmIiwibWV0aG9kIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJwb3B1cCIsIiRidXR0b24iLCJjaGVja2VkIiwiJHRoYXQiLCJmb3JtIiwidmFsaWQiLCIkYXV0aG9yaXphdGlvbkNsb3NlIiwiJHBhc3N3b3JkSW5wdXQiLCIkcGFzc3dvcmRXcmFwcGVyIiwiJHBhc3N3b3JkQnV0dG9uIiwiJGxvZ2luSW5wdXQiLCIkbG9naW5CdXR0b24iXSwibWFwcGluZ3MiOiJBQUFBLGNBRUEsV0FDRSxRQUFTQSxLQWlFUCxRQUFTQyxHQUFXQyxFQUFJQyxHQVV0QixRQUFTQyxHQUFTQyxHQUNo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clEsWUFBWSxnQkFFN0JvUSxHQUFlek0sS0FBSyxPQUFRLFFBQzVCME0sR0FBaUJ4USxTQUFTLGlCQUc5QnVRLEdBQWUzTyxJQUFJOE8sSUFBYTlKLEdBQUcsUUFBUyxXQUN0QzJKLEdBQWVsRyxNQUFNbkwsT0FBUyxHQUFLd1IsR0FBWXJHLE1BQU1uTCxPQUFTLEVBQ2hFeVIsR0FBYXJHLFdBQVcsWUFFeEJxRyxHQUFhN00sS0FBSyxXQUFZLGNBT3BDakQsU0FBU1UsaUJBQWlCLG1CQUFvQnpFIiwiZmlsZSI6ImludGVybmFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRvY3VtZW50UmVhZHkoKSB7XG4gICAgLyoqXG4gICAgICog0JLQtdGA0YHQuNGPINC00LvRjyBlczVcbiAgICAgKiDQodC+0LfQtNCw0LXRgiDQvNCw0YHRgdC40LIgTWVkaWFRdWVyeUxpc3Qg0Lgg0YHQu9C10LTQuNGCINC30LAg0LXQs9C+INC+0LHQvdC+0LLQu9C10L3QuNC10LxcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge29iamVjdH0gcXVlcmllc0xpc3QgLSDQntCx0YrQtdC60YIg0LLQuNC00LAgeyBkZWZhdWx0OiBmb28sICcobWluLXdpZHRoOiA3NjBweCknOiBiYXIgfVxuICAgICAqIEBwYXJhbSAge2Z1bmN0aW9ufSBmdW5jIC0g0LrQvtC70LvQsdGN0Log0YTRg9C90LrRhtC40Y8sINC/0LXRgNCy0YvQuSDQv9Cw0YDQsNC80LXRgtGAINC60L7RgtC+0YDQvtC5IC0g0YLQtdC60YPRidC10LUg0LfQvdCw0YfQtdC90LjQtSxcbiAgICAgKiDQsCDQstGC0L7RgNC+0LkgLSDRgdGC0YDQvtC60LAg0YEg0YLQtdC60YPRidC40Lwg0LzQtdC00LjQsCDQt9Cw0L/RgNC+0YHQvtC8XG4gICAgICovXG4gICAgZnVuY3Rpb24gTWVkaWFIYW5kbGVyKHF1ZXJpZXNMaXN0LCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMoZikge1xuICAgICAgICAgIGlmICh0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmF1bHRRdWVyeTtcbiAgICAgIHZhciBxdWVyeUxpc3Q7XG4gICAgICB2YXIgZGVmYXVsdFZhbHVlID0gcXVlcmllc0xpc3QuZGVmYXVsdDtcbiAgICAgIHZhciBxdWVyaWVzID0gJC5leHRlbmQoe30sIHF1ZXJpZXNMaXN0KTtcbiAgICAgIGRlbGV0ZSBxdWVyaWVzLmRlZmF1bHQ7XG4gICAgICBkZWZhdWx0UXVlcnkgPSB7XG4gICAgICAgIHF1ZXJ5OiAnZGVmYXVsdCcsXG4gICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWVcbiAgICAgIH07XG4gICAgICBxdWVyeUxpc3QgPSBPYmplY3Qua2V5cyhxdWVyaWVzKS5tYXAoZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHF1ZXJpZXNbcXVlcnldO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxpc3Q6IHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHF1ZXJ5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgb2JqZWN0Lmxpc3QuYWRkTGlzdGVuZXIoc2V0Q3VycmVudFF1ZXJ5KTtcbiAgICAgIH0pO1xuICAgICAgc2V0Q3VycmVudFF1ZXJ5KCk7XG5cbiAgICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcXVlcnlMaXN0LmZvckVhY2goZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgIG9iamVjdC5saXN0LnJlbW92ZUxpc3RlbmVyKHNldEN1cnJlbnRRdWVyeSk7XG4gICAgICAgIH0pO1xuICAgICAgICBxdWVyeUxpc3QgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gc2V0Q3VycmVudFF1ZXJ5KCkge1xuICAgICAgICB2YXIgY3VycmVudCA9IHF1ZXJ5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgIHJldHVybiBvYmplY3QubGlzdC5tYXRjaGVzO1xuICAgICAgICB9KVswXSB8fCBkZWZhdWx0UXVlcnk7XG4gICAgICAgIGZ1bmMoY3VycmVudC52YWx1ZSwgY3VycmVudC5xdWVyeSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgO1xuICAgIC8qKlxuICAgICAqINCS0LXRgNGB0LjRjyDQtNC70Y8gZXM1XG4gICAgICog0KHQu9C10LTQuNGCINC30LAg0LrQu9Cw0YHRgdCw0LzQuCBET00t0L7QsdGK0LXQutGC0LAg0Lgg0LLRi9C30YvQstCw0LXRgiDRhNGD0L3QutGG0LjRjiDQv9GA0Lgg0LjQt9C80LXQvdC10L3QuNC4INC90LDQsdC+0YDQsCDQutC70LDRgdGB0L7Qsi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge0RPTS1vYmplY3R9IGVsIC0g0L7QsdGK0LXQutGCLCDQt9CwINC60L7RgtC+0YDRi9C8INCy0LXQtNC10YLRgdGPINC90LDQsdC70Y7QtNC10L3QuNC1LlxuICAgICAqIEBwYXJhbSAge2Z1bmN0aW9ufSBmdW5jIC0g0LrQvtC70LvQsdGN0Log0YTRg9C90LrRhtC40Y8sINC/0LXRgNCy0YvQuSDQv9Cw0YDQsNC80LXRgtGAINC60L7RgtC+0YDQvtC5IC0g0LTQvtCx0LDQstC70LXQvdC90YvQtSDQutC70LDRgdGB0YssXG4gICAgICog0LAg0LLRgtC+0YDQvtC5IC0g0YPQsdGA0LDQvdC90YvQtSDQutC70LDRgdGB0YtcbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIENsYXNzRXZlbnQoZWwsIGZ1bmMpIHtcbiAgICAgIHZhciBvbGQ7XG4gICAgICB2YXIgbW8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XG4gICAgICBtby5vYnNlcnZlKGVsLCB7XG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIG1vLm9sZCA9IG9sZDtcbiAgICAgIHJldHVybiBtbztcblxuICAgICAgZnVuY3Rpb24gY2FsbGJhY2sobXV0YXRpb25zTGlzdCkge1xuICAgICAgICB2YXIgbmV3Q2xhc3MgPSAkLm1ha2VBcnJheShlbC5jbGFzc0xpc3QpO1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBtdXRhdGlvbnNMaXN0WzBdLm9sZFZhbHVlO1xuICAgICAgICB2YXIgb2xkQ2xhc3MgPSBvbGQgfHwgKG9sZFZhbHVlID8gb2xkVmFsdWUuc3BsaXQoJyAnKSA6IFtdKTtcbiAgICAgICAgdmFyIGFkZGVkID0gbmV3Q2xhc3MuZmlsdGVyKGNoYW5nZWQsIG9sZENsYXNzKTtcbiAgICAgICAgdmFyIHJlbW92ZWQgPSBvbGRDbGFzcy5maWx0ZXIoY2hhbmdlZCwgbmV3Q2xhc3MpO1xuICAgICAgICBmdW5jKGFkZGVkLCByZW1vdmVkLCBuZXdDbGFzcywgb2xkQ2xhc3MpO1xuICAgICAgICBvbGQgPSBuZXdDbGFzcztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hhbmdlZChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4T2YoZSkgPCAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9ic2VydmVDbGFzc2VzKGVsLCBfY2xhc3MsIHNob3csIHJlc2V0KSB7XG4gICAgICB2YXIgY2xhc3NBcnJheSA9IF9jbGFzcy5zcGxpdCgnICcpO1xuXG4gICAgICBzaG93ID0gdHlwZW9mIHNob3cgPT09ICdmdW5jdGlvbicgPyBzaG93IDogZnVuY3Rpb24gKCkge307XG4gICAgICByZXNldCA9IHR5cGVvZiByZXNldCA9PT0gJ2Z1bmN0aW9uJyA/IHJlc2V0IDogZnVuY3Rpb24gKCkge307XG4gICAgICByZXR1cm4gbmV3IENsYXNzRXZlbnQoZWwsIGZ1bmN0aW9uIChhZGRlZCwgcmVtb3ZlZCwgYWxsLCBvbGQpIHtcbiAgICAgICAgaWYgKGNsYXNzQXJyYXkubGVuZ3RoID4gMSkge1xuICAgICAgICAgIGlmICghdGVzdChvbGQsIGNsYXNzQXJyYXkpICYmIHRlc3QoYWxsLCBjbGFzc0FycmF5KSkge1xuICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGVzdChvbGQsIGNsYXNzQXJyYXkpICYmICF0ZXN0KGFsbCwgY2xhc3NBcnJheSkpIHtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0ZXN0KGFkZGVkLCBjbGFzc0FycmF5KSkge1xuICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGVzdChyZW1vdmVkLCBjbGFzc0FycmF5KSkge1xuICAgICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiB0ZXN0KGFyciwgcHJvYmUpIHtcbiAgICAgICAgcmV0dXJuIHByb2JlLmV2ZXJ5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGFyci5pbmRleE9mKGUpID49IDA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIDtcbiAgICAvKipcbiAgICAgKiDQktC10YDRgdC40Y8g0LTQu9GPIGVzNVxuICAgICAqINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINCz0LXRgtGC0LXRgCDQuCDRgdC10YLRgtC10YAg0LIg0L7QsdGK0LXQutGCXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBkZWZpbmVTZXR0ZXIob2JqLCBmdW5jdGlvbnMpIHtcbiAgICAgIHZhciBzaGFkb3cgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGZ1bmN0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hhZG93W2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICAgICAgICAgIHZhciBvbGQgPSBzaGFkb3dba2V5XTtcblxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gb2xkKSB7XG4gICAgICAgICAgICAgIHNoYWRvd1trZXldID0gdmFsO1xuICAgICAgICAgICAgICBmdW5jdGlvbnNba2V5XSh2YWwsIG9sZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIDtcbiAgICAvKlxuICAgIHtcbiAgICAgICAgJzEwJSAtIDIwJSc6IGZ1bmN0aW9uKHByb2dyZXNzKSB7fSxcbiAgICAgICAgJzUwJSc6IGZ1bmN0aW9uKHByb2dyZXNzKSB7fSxcbiAgICB9XG4gICAgIGFuaW1hdGlvbnN0YXJ0XG4gICAgYW5pbWF0aW9uZW5kXG4gICAgKi9cblxuICAgIGZ1bmN0aW9uIEFuaW1hdGlvblF1ZXVlKGxpc3QsIGR1cmF0aW9uLCB0aHJvdHRsZSkge1xuICAgICAgdmFyIElOX0FDVElPTiA9ICdhY3Rpb24nO1xuICAgICAgdmFyIE9VVCA9ICdvdXQ7JztcbiAgICAgIHZhciBwZXJjZW50UmUgPSBuZXcgUmVnRXhwKCcoWy4wLTldKyklJywgJ2dpJyk7XG4gICAgICB2YXIgc2Vjb25kUmUgPSBuZXcgUmVnRXhwKCcoWy4wLTldKylzJywgJ2dpJyk7XG4gICAgICB2YXIgbWlsbGlzZWNvbmRSZSA9IG5ldyBSZWdFeHAoJyhbLjAtOV0rKW1zJywgJ2dpJyk7XG4gICAgICB2YXIgdGltZVN0YXJ0ID0gbnVsbDtcbiAgICAgIHZhciBmaXJlZExpc3QgPSBbXTtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBzdG9wRmxhZztcbiAgICAgIHZhciBmcmFtZSA9IDA7XG4gICAgICB0aHJvdHRsZSA9IHRocm90dGxlIHx8IDE7XG5cbiAgICAgIGlmIChpc05hTihkdXJhdGlvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBhcmd1bWVudHMnKTtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdiZWdpbicsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRpbWVTdGFydDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2VuZCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRpbWVTdGFydCA/IHRpbWVTdGFydCArIGR1cmF0aW9uIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2luQWN0aW9uJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gQm9vbGVhbih0aW1lU3RhcnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFzZWxmLmluQWN0aW9uKSB7XG4gICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzZWxmLmluQWN0aW9uKSB7XG4gICAgICAgICAgc3RvcEZsYWcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmxpc3QgPSBPYmplY3Qua2V5cyhsaXN0KS5tYXAoZnVuY3Rpb24gKGtleSwgaWQpIHtcbiAgICAgICAgdmFyIHN0YXJ0O1xuICAgICAgICB2YXIgZW5kO1xuICAgICAgICB2YXIgdGltaW5nID0ga2V5LnNwbGl0KCctJyk7XG4gICAgICAgIHRpbWluZy5mb3JFYWNoKGZ1bmN0aW9uIChlLCBpLCBhcnIpIHtcbiAgICAgICAgICB2YXIgc3RyID0gZS50cmltKCk7XG4gICAgICAgICAgdmFyIHVuaXRzID0gMTtcbiAgICAgICAgICB1bml0cyA9IC8oWy4wLTldKyklLy50ZXN0KHN0cikgPyAwLjAxIDogdW5pdHM7XG4gICAgICAgICAgdW5pdHMgPSAvKFsuMC05XSspcy8udGVzdChzdHIpID8gMTAwMCAvIGR1cmF0aW9uIDogdW5pdHM7XG4gICAgICAgICAgdW5pdHMgPSAvKFsuMC05XSspbXMvLnRlc3Qoc3RyKSA/IDEgLyBkdXJhdGlvbiA6IHVuaXRzO1xuICAgICAgICAgIGFycltpXSA9IHBhcnNlRmxvYXQoc3RyKSAqIHVuaXRzO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgc3RhcnQ6IGlzTmFOKHRpbWluZ1swXSkgPyAtMSA6IHRpbWluZ1swXSxcbiAgICAgICAgICBlbmQ6IGlzTmFOKHRpbWluZ1sxXSkgPyB0aW1pbmdbMF0gOiB0aW1pbmdbMV0sXG4gICAgICAgICAgZnVuYzogdHlwZW9mIGxpc3Rba2V5XSA9PT0gJ2Z1bmN0aW9uJyA/IGxpc3Rba2V5XSA6IGZ1bmN0aW9uICgpIHt9XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gc3RlcCh0aW1lc3RhbXApIHtcbiAgICAgICAgdmFyIHByb2dyZXNzO1xuICAgICAgICBmcmFtZSsrO1xuXG4gICAgICAgIGlmICghdGltZVN0YXJ0ICYmIHR5cGVvZiBzZWxmLmFuaW1hdGlvbnN0YXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5hbmltYXRpb25zdGFydC5jYWxsKHNlbGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGltZVN0YXJ0ID0gdGltZVN0YXJ0IHx8IHRpbWVzdGFtcDtcblxuICAgICAgICBpZiAodGltZXN0YW1wIDw9IHNlbGYuZW5kICYmICFzdG9wRmxhZykge1xuICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9wRmxhZyA9IG51bGw7XG4gICAgICAgICAgdGltZVN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICBmaXJlZExpc3QgPSBbXTtcbiAgICAgICAgICBmcmFtZSA9IDA7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuYW5pbWF0aW9uZW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzZWxmLmFuaW1hdGlvbmVuZC5jYWxsKHNlbGYpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFtZSAlIHRocm90dGxlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvZ3Jlc3MgPSBtYXAodGltZXN0YW1wLCBzZWxmLmJlZ2luLCBzZWxmLmVuZCwgMCwgMSk7XG4gICAgICAgIHNlbGYubGlzdC5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgaW5BY3Rpb24gPSBlLnN0YXJ0IDw9IHByb2dyZXNzICYmIHByb2dyZXNzIDw9IGUuZW5kOyAvLyDQvtC00LjQvdC+0YfQvdGL0Lkg0LLRi9C30L7QslxuXG4gICAgICAgICAgaWYgKGUuc3RhcnQgPT09IGUuZW5kICYmIGUuc3RhcnQgPD0gcHJvZ3Jlc3MgJiYgIWZpcmVkTGlzdFtlLmlkXSkge1xuICAgICAgICAgICAgZmlyZWRMaXN0W2UuaWRdID0gT1VUO1xuICAgICAgICAgICAgZS5mdW5jLmNhbGwoc2VsZiwgMCwgJ29uY2UnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vINC/0LXRgNCy0YvQuSDQstGL0LfQvtCyXG5cblxuICAgICAgICAgIGlmIChpbkFjdGlvbiAmJiAhZmlyZWRMaXN0W2UuaWRdKSB7XG4gICAgICAgICAgICBmaXJlZExpc3RbZS5pZF0gPSBJTl9BQ1RJT047XG4gICAgICAgICAgICBlLmZ1bmMuY2FsbChzZWxmLCAwLCAnZmlyc3QnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vINC/0L7RgdC70LXQtNC90LjQuSDQstGL0LfQvtCyXG5cblxuICAgICAgICAgIGlmICghaW5BY3Rpb24gJiYgZmlyZWRMaXN0W2UuaWRdID09PSBJTl9BQ1RJT04pIHtcbiAgICAgICAgICAgIGZpcmVkTGlzdFtlLmlkXSA9IE9VVDtcbiAgICAgICAgICAgIGUuZnVuYy5jYWxsKHNlbGYsIDEsICdsYXN0Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGluQWN0aW9uO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZS5mdW5jLmNhbGwoc2VsZiwgbWFwKHByb2dyZXNzLCBlLnN0YXJ0LCBlLmVuZCwgMCwgMSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXAoeCwgaW5NaW4sIGluTWF4LCBvdXRNaW4sIG91dE1heCkge1xuICAgICAgcmV0dXJuICh4IC0gaW5NaW4pICogKG91dE1heCAtIG91dE1pbikgLyAoaW5NYXggLSBpbk1pbikgKyBvdXRNaW47XG4gICAgfVxuXG4gICAgO1xuICAgIHZhciBPRkZTRVQgPSAwLjM7XG4gICAgdmFyIElOU0lERV9QQVRURVJOUyA9IFsnYmViZScsICdiZWViJywgJ2ViZWInLCAnZWJiZSddO1xuICAgIHZhciBBTklNQVRJT05fQ0xBU1MgPSAnLmpzLW9uLXZpc2libGUnOyAvLyDRgSDRgtC+0YfQutC+0LlcblxuICAgIHZhciBISURERU5fQ0xBU1MgPSAnYW5pbWF0ZWQnOyAvLyDQsdC10Lcg0YLQvtGH0LrQuFxuXG4gICAgdmFyIEFOSU1BVElPTl9ISURERU5fQ0xBU1MgPSBBTklNQVRJT05fQ0xBU1MgKyAnLicgKyBISURERU5fQ0xBU1M7XG4gICAgdmFyIFZJRVdQT1JUX0NMQVNTID0gJy5qcy1pcy12aXNpYmxlJzsgLy8g0YEg0YLQvtGH0LrQvtC5XG5cbiAgICB2YXIgSU5fQ0xBU1MgPSAnaW4tdmlld3BvcnQnOyAvLyDQsdC10Lcg0YLQvtGH0LrQuFxuXG4gICAgdmFyIEhPTERfQ0xBU1MgPSAnaG9sZC1vdXRzaWRlLXZpZXdwb3J0JzsgLy8g0LHQtdC3INGC0L7Rh9C60LhcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aHJfY2hlY2tFZGdlcyA9IHRocm90dGxlKGNoZWNrRWRnZXMsIDIwMCk7XG4gICAgICB2YXIgJGVsZW1lbnRzID0gJChBTklNQVRJT05fQ0xBU1MgKyAnLCcgKyBWSUVXUE9SVF9DTEFTUyk7XG5cbiAgICAgIGlmICgkZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICQod2luZG93KS5vZmYoJ3Njcm9sbCcsIHRocl9jaGVja0VkZ2VzKTtcbiAgICAgICAgJCgnLm9zLXZpZXdwb3J0Jykub24oJ3Njcm9sbCcsIHRocl9jaGVja0VkZ2VzKTtcbiAgICAgICAgY2hlY2tFZGdlcygpO1xuICAgICAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb2JzZXJ2ZUNsYXNzZXModGhpcywgSE9MRF9DTEFTUywgY2hlY2tFZGdlcywgY2hlY2tFZGdlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGVja0VkZ2VzKGluc2lkZSwgb3V0c2lkZSkge1xuICAgICAgICB2YXIgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHZhciB0b3AgPSBPRkZTRVQgKiB2aWV3cG9ydEhlaWdodDtcbiAgICAgICAgdmFyIGJvdHRvbSA9ICgxIC0gT0ZGU0VUKSAqIHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgICAkKEFOSU1BVElPTl9ISURERU5fQ0xBU1MpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoSE9MRF9DTEFTUykgJiYgdGVzdCh0aGlzKSkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKEhJRERFTl9DTEFTUyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdG9wID0gMDtcbiAgICAgICAgYm90dG9tID0gdmlld3BvcnRIZWlnaHQ7XG4gICAgICAgICQoVklFV1BPUlRfQ0xBU1MpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShJTl9DTEFTUywgIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKEhPTERfQ0xBU1MpICYmIHRlc3QodGhpcykpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiB0ZXN0KGVsKSB7XG4gICAgICAgICAgdmFyIGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHZhciBwYXR0ZXJuID0gW1snYicsIHRvcF0sIFsnYicsIGJvdHRvbV0sIFsnZScsIGJveC50b3BdLCBbJ2UnLCBib3guYm90dG9tXV0uc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGFbMV0gLSBiWzFdO1xuICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVbMF07XG4gICAgICAgICAgfSkuam9pbignJyk7XG4gICAgICAgICAgcmV0dXJuIElOU0lERV9QQVRURVJOUy5pbmRleE9mKHBhdHRlcm4pID49IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIG1zKSB7XG4gICAgICB2YXIgaXNUaHJvdHRsZWQgPSBmYWxzZTtcbiAgICAgIHZhciBzYXZlZEFyZ3M7XG4gICAgICB2YXIgc2F2ZWRUaGlzO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzVGhyb3R0bGVkKSB7XG4gICAgICAgICAgc2F2ZWRBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgIHNhdmVkVGhpcyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNUaHJvdHRsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpc1Rocm90dGxlZCA9IGZhbHNlO1xuICAgICAgICAgIGZ1bmMuYXBwbHkoc2F2ZWRUaGlzLCBzYXZlZEFyZ3MpO1xuICAgICAgICAgIHNhdmVkQXJncyA9IHNhdmVkVGhpcyA9IG51bGw7XG4gICAgICAgIH0sIG1zKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgO1xuICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKTtcbiAgICB2YXIgJHBhZ2UgPSAkKCcuanMtcGFnZS13cmFwcGVyJyk7XG5cbiAgICB2YXIgc2Nyb2xsV2lkdGggPSBmdW5jdGlvbiBzY3JvbGxiYXJXaWR0aCgpIHtcbiAgICAgIHZhciBibG9jayA9ICQoJzxkaXY+JykuY3NzKHtcbiAgICAgICAgaGVpZ2h0OiAnNTBweCcsXG4gICAgICAgIHdpZHRoOiAnNTBweCdcbiAgICAgIH0pLFxuICAgICAgICAgIGluZGljYXRvciA9ICQoJzxkaXY+JykuY3NzKHtcbiAgICAgICAgaGVpZ2h0OiAnMjAwcHgnXG4gICAgICB9KTtcbiAgICAgICRib2R5LmFwcGVuZChibG9jay5hcHBlbmQoaW5kaWNhdG9yKSk7XG4gICAgICB2YXIgdzEgPSAkKCdkaXYnLCBibG9jaykuaW5uZXJXaWR0aCgpO1xuICAgICAgYmxvY2suY3NzKCdvdmVyZmxvdy15JywgJ3Njcm9sbCcpO1xuICAgICAgdmFyIHcyID0gJCgnZGl2JywgYmxvY2spLmlubmVyV2lkdGgoKTtcbiAgICAgICQoYmxvY2spLnJlbW92ZSgpO1xuICAgICAgcmV0dXJuIHcxIC0gdzI7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvY2tQYWdlKCkge1xuICAgICAgaWYgKCQoJy5iLW1haW4nKS5pbm5lckhlaWdodCgpIDw9ICQod2luZG93KS5pbm5lckhlaWdodCgpKSB7XG4gICAgICAgICRwYWdlLmNzcygncGFkZGluZy1yaWdodCcsICcnKS5hZGRDbGFzcygnbm8tc2Nyb2xsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcGFnZS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBzY3JvbGxXaWR0aCkuYWRkQ2xhc3MoJ25vLXNjcm9sbCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVubG9ja1BhZ2UoKSB7XG4gICAgICAkcGFnZS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsJykuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJycpO1xuICAgIH1cblxuICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDEzNjYpIHtcbiAgICAgICAgdW5sb2NrUGFnZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIDsgLy8gPT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyByb2JpbnpvbjogcG9wdXAuanNcbiAgICAvLyAxNS4wMS4yMDE4OiBBbWVkb21hcnlcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvLyDQntGC0LrRgNGL0YLQuNC1INC/0L7Qv9CQ0L/QsCDQuCDQt9Cw0L/RgNC10YIg0YHQutGA0L7Qu9CwINC90LAgYm9keVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHBvcFVwID0gJCgnLmItcG9wdXAnKTtcbiAgICAgIHZhciAkcG9wVXBDb250ZW50ID0gJCgnLmItcG9wdXBfX2NvbnRlbnQnKTtcbiAgICAgIHZhciB3aW5kb3dzT1MgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignd2luZG93cycpICE9PSAtMTtcbiAgICAgICQoJy5qcy1vcGVuLXBvcHVwJykub24oJ3BvcHVwLm9uQ2xvc2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgY2xvc2VQb3BVcCgpO1xuICAgICAgfSk7IC8vINCX0LDQutGA0YvRgtC40LUg0L/QvtC/0JDQv9C+0LJcblxuICAgICAgZnVuY3Rpb24gY2xvc2VQb3BVcCgpIHtcbiAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC+0YLQutGA0YvRgiDQu9C4INC/0L7Qv9CQ0L9cbiAgICAgICAgaWYgKCRwb3BVcC5oYXNDbGFzcygnb3BlbicpKSB7XG4gICAgICAgICAgJHBhZ2UucmVtb3ZlQ2xhc3MoJ25vLXNjcm9sbCBuby10b3VjaCB3aW5kb3dzJyk7XG4gICAgICAgICAgJHBvcFVwLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgICAgJHBvcFVwLnN0b3AoKS5mYWRlT3V0KDMwMCk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINC90LDQu9C40YfQuNC1INGB0LrRgNC+0LvQsNCwXG5cblxuICAgICAgZnVuY3Rpb24gZ2V0U2Nyb2xsKHNjcm9sbCwgc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGRvYyA9IGRvY3VtZW50O1xuICAgICAgICB2YXIgYm9keSA9IGRvYy5ib2R5O1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgdmFyIGNsaWVudCA9ICdjbGllbnQnICsgc2Nyb2xsO1xuICAgICAgICBzY3JvbGwgPSAnc2Nyb2xsJyArIHNjcm9sbDtcbiAgICAgICAgcmV0dXJuIC9DU1MvLnRlc3QoZG9jLmNvbXBhdE1vZGUpID8gZWxlbWVudFtjbGllbnRdIDwgZWxlbWVudFtzY3JvbGxdIDogYm9keVtjbGllbnRdIDwgYm9keVtzY3JvbGxdO1xuICAgICAgfSAvLyDQmtC70LjQuiDQv9C+INGB0YHRi9C70LrQtSDQvtGC0LrRgNGL0LLQsNGO0YnQtdC5INC/0L7Qv9CQ0L9cblxuXG4gICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLW9wZW4tcG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykudHJpZ2dlcigncG9wdXAub25PcGVuJyk7XG4gICAgICB9KTsgLy8g0JrQsNGB0YLQvtC80L3QvtC1INGB0L7QsdGL0YLQuNC1INC+0YLQutGA0YvRgtC40LUg0L/QvtC/0JDQv1xuXG4gICAgICAkKCcuanMtb3Blbi1wb3B1cCcpLm9uKCdwb3B1cC5vbk9wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9wZW5Qb3BVcC5jYWxsKHRoaXMpO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIG9wZW5Qb3BVcCgpIHtcbiAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0YLQuNC/0LAgY2FsbGJhY2tcbiAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdwb3B1cC5vcGVuJywgWyRwb3BVcERhdGVdKTtcbiAgICAgICAgdmFyICRwb3BVcERhdGUgPSAkKCcuYi1wb3B1cFtkYXRhLXBvcHVwPVxcJycgKyAkKHRoaXMpLmF0dHIoJ2RhdGEtcG9wdXAnKSArICdcXCddJyk7IC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQtdGB0YLRjCDQu9C4INC90LDQvCDRh9GC0L4g0L7RgtC60YDRi9GC0YxcblxuICAgICAgICBpZiAoJHBvcFVwRGF0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC+0L/QtdGA0LDRhtC40L7QvdC90YPRjiDRgdC40YHRgtC10LzRgyDQvdCwIFdpbiDQuCDQodC60YDQvtC70LtcbiAgICAgICAgICBpZiAod2luZG93c09TICYmIGdldFNjcm9sbCgnSGVpZ2h0JywgJy5iLXBhZ2Utd3JhcHBlcicpKSB7XG4gICAgICAgICAgICAkcGFnZS5hZGRDbGFzcygnd2luZG93cycpO1xuICAgICAgICAgIH0gLy8g0JfQsNC60YDRi9Cy0LDQtdC8INC/0LXRgNC10LQg0L7RgtC60YDRi9GC0LjQvNC1INC00YDRg9Cz0LjQtVxuXG5cbiAgICAgICAgICAkcG9wVXAucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAkcG9wVXAuZmFkZU91dCgzMDApO1xuICAgICAgICAgICRwYWdlLmFkZENsYXNzKCduby1zY3JvbGwgbm8tdG91Y2gnKTtcbiAgICAgICAgICAkcG9wVXBEYXRlLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgICAgICAgJHBvcFVwRGF0ZS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpLmhpZGUoKS5mYWRlSW4oMzAwKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyDQmtC70LjQuiDQv9C+INCX0LDQutGA0YvRgtC40Y4g0L/QvtC/0JDQv9C+0LJcblxuXG4gICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWNsb3NlLXBvcHVwJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjbG9zZVBvcFVwKCk7XG5cbiAgICAgICAgaWYgKCQoJy5qcy1tZW51LWluLXBvcHVwLWJhY2snKS5sZW5ndGgpIHtcbiAgICAgICAgICAkKCcuanMtbWVudS1pbi1wb3B1cC1iYWNrJykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgfVxuICAgICAgfSk7IC8vINCW0LzRj9C6INC/0L4gRXNjXG5cbiAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgIGNsb3NlUG9wVXAoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAkKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkcG9wVXAuaGFzQ2xhc3MoJ29wZW4nKSkge1xuICAgICAgICAgIC8vINCa0LvQuNC6INC90LUg0L/QviDQmtC+0L3RgtC10L3RgtGDINC4INC90LUg0LXQs9C+INC00L7Rh9C60LDQvFxuICAgICAgICAgIGlmICghJHBvcFVwQ29udGVudC5pcyhlLnRhcmdldCkgJiYgJHBvcFVwQ29udGVudC5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY2xvc2VQb3BVcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgO1xuXG4gICAgZnVuY3Rpb24gaXNJRSgpIHtcbiAgICAgIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50OyAvL0NoZWNrIHRoZSB1c2VyQWdlbnQgcHJvcGVydHkgb2YgdGhlIHdpbmRvdy5uYXZpZ2F0b3Igb2JqZWN0XG5cbiAgICAgIHZhciBtc2llID0gdWEuaW5kZXhPZignTVNJRSAnKTsgLy8gSUUgMTAgb3Igb2xkZXJcblxuICAgICAgdmFyIHRyaWRlbnQgPSB1YS5pbmRleE9mKCdUcmlkZW50LycpOyAvL0lFIDExXG5cbiAgICAgIHJldHVybiBtc2llID4gMCB8fCB0cmlkZW50ID4gMDtcbiAgICB9IC8vZnVuY3Rpb24gdG8gc2hvdyBhbGVydCBpZiBpdCdzIElFXG5cblxuICAgIGZ1bmN0aW9uIFNob3dJRUFsZXJ0KCkge1xuICAgICAgaWYgKGlzSUUoKSkge1xuICAgICAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ25vLW9iamVjdC1maXQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnb2JqZWN0LWZpdCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIFNob3dJRUFsZXJ0KCk7XG4gICAgdmFyIHVzZXJBZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgaWYgKHVzZXJBZ2VudC5tYXRjaCgvTWFjL2kpKSB7XG4gICAgICBpZiAodXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpIHx8IHVzZXJBZ2VudC5tYXRjaCgvaVBob25lL2kpKSB7XG4gICAgICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnaW9zJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ21hYycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIDtcblxuICAgIGZ1bmN0aW9uIGZpbmRWaWRlb3MoKSB7XG4gICAgICB2YXIgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLXZpZGVvJyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlkZW9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNldHVwVmlkZW8odmlkZW9zW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR1cFZpZGVvKHZpZGVvKSB7XG4gICAgICB2YXIgbGluayA9IHZpZGVvLnF1ZXJ5U2VsZWN0b3IoJy5qcy12aWRlb19fbGluaycpO1xuICAgICAgdmFyIG1lZGlhID0gdmlkZW8ucXVlcnlTZWxlY3RvcignLmpzLXZpZGVvX19tZWRpYScpO1xuICAgICAgdmFyIGJ1dHRvbiA9IHZpZGVvLnF1ZXJ5U2VsZWN0b3IoJy5qcy12aWRlb19fYnV0dG9uJyk7XG4gICAgICB2YXIgaWQgPSBwYXJzZU1lZGlhVVJMKG1lZGlhKTtcbiAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWZyYW1lID0gY3JlYXRlSWZyYW1lKGlkKTtcbiAgICAgICAgJCgnLmpzLXZpZGVvJykucmVtb3ZlQ2xhc3MoJ2pzLXZpZGVvX19saW5rJyk7XG4gICAgICAgICQoJy5qcy12aWRlbycpLnJlbW92ZUNsYXNzKCdqcy12aWRlb19fYnV0dG9uJyk7XG4gICAgICAgIHZpZGVvLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICB9KTtcbiAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XG4gICAgICB2aWRlby5jbGFzc0xpc3QuYWRkKCdiLXZpZGVvLS1lbmFibGVkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNZWRpYVVSTChtZWRpYSkge1xuICAgICAgdmFyIHJlZ2V4cCA9IC9odHRwczpcXC9cXC9pXFwueXRpbWdcXC5jb21cXC92aVxcLyhbYS16QS1aMC05Xy1dKylcXC9tYXhyZXNkZWZhdWx0XFwuanBnL2k7XG4gICAgICB2YXIgdXJsID0gbWVkaWEuc3JjO1xuICAgICAgdmFyIG1hdGNoID0gdXJsLm1hdGNoKHJlZ2V4cCk7XG4gICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSWZyYW1lKGlkKSB7XG4gICAgICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhbGxvd2Z1bGxzY3JlZW4nLCAnJyk7XG4gICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhbGxvdycsICdhdXRvcGxheScpO1xuICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgZ2VuZXJhdGVVUkwoaWQpKTtcbiAgICAgIGlmcmFtZS5jbGFzc0xpc3QuYWRkKCdiLXZpZGVvX19tZWRpYScpO1xuICAgICAgcmV0dXJuIGlmcmFtZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVVSTChpZCkge1xuICAgICAgdmFyIHF1ZXJ5ID0gJz9yZWw9MCZzaG93aW5mbz0wJmF1dG9wbGF5PTEnO1xuICAgICAgcmV0dXJuICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nICsgaWQgKyBxdWVyeTtcbiAgICB9XG5cbiAgICBmaW5kVmlkZW9zKCk7XG4gICAgO1xuICAgIHZhciAkaGVhZGVyID0gJCgnLmpzLWhlYWRlcicpO1xuICAgIHZhciAkYnVyZ2VyID0gJGhlYWRlci5maW5kKCcuanMtYnVyZ2VyJyk7XG4gICAgdmFyICRtZW51ID0gJGhlYWRlci5maW5kKCcuanMtbWVudScpO1xuXG4gICAgZnVuY3Rpb24gbWVudUNsb3NlKCkge1xuICAgICAgJG1lbnUucmVtb3ZlQ2xhc3MoJ2lzLW9wZW4nKS5kZWxheSgzMDApLnF1ZXVlKGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICAgICRidXJnZXIucmVtb3ZlQ2xhc3MoJ2lzLW9wZW4nKTtcbiAgICAgIHVubG9ja1BhZ2UoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZW51T3BlbigpIHtcbiAgICAgIGlmICgkYXNpZGUuaGFzQ2xhc3MoJ2lzLW9wZW4nKSB8fCAkYXV0aG9yaXphdGlvbi5oYXNDbGFzcygnaXMtb3BlbicpKSB7XG4gICAgICAgIGFzaWRlQ2xvc2UoKTtcbiAgICAgICAgYXV0aG9yaXphdGlvbkNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgICRidXJnZXIuYWRkQ2xhc3MoJ2lzLW9wZW4nKTtcbiAgICAgICRtZW51LnNob3coKS5kZWxheSgxMCkucXVldWUoZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtb3BlbicpO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICAgIGxvY2tQYWdlKCk7XG4gICAgfVxuXG4gICAgJGJ1cmdlci5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJG1lbnUuaGFzQ2xhc3MoJ2lzLW9wZW4nKSkge1xuICAgICAgICBtZW51Q2xvc2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbnVPcGVuKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgO1xuICAgIHZhciAkY29uc3RydWN0b3IgPSAkKCcuanMtY29uc3RydWN0b3InKTtcbiAgICB2YXIgJGNvbnN0cnVjdG9yTGluayA9ICRjb25zdHJ1Y3Rvci5maW5kKCcuanMtY29uc3RydWN0b3ItbGluaycpO1xuICAgIHZhciAkY29uc3RydWN0b3JCYWNrID0gJGNvbnN0cnVjdG9yLmZpbmQoJy5qcy1jb25zdHJ1Y3Rvci1iYWNrJyk7XG4gICAgdmFyICRiYWNrY3J1bWJzID0gJGNvbnN0cnVjdG9yLmZpbmQoJy5qcy1iYWNrY3J1bWJzJyk7XG4gICAgdmFyICRiYWNrY3J1bWJzSXRlbSA9ICRiYWNrY3J1bWJzLmZpbmQoJy5qcy1iYWNrY3J1bWJzLWl0ZW0nKTtcbiAgICB2YXIgJHNpemVCb3ggPSAkY29uc3RydWN0b3IuZmluZCgnLmpzLXNpemUtYm94Jyk7XG4gICAgdmFyICRzaXplQnV0dG9uID0gJHNpemVCb3guZmluZCgnLmpzLXNpemUtYnV0dG9uJyk7XG4gICAgdmFyICRzaXplTWluID0gJHNpemVCb3guZmluZCgnLmpzLXNpemUtaW5wdXQtbWluJykuY2hpbGRyZW4oJ2lucHV0Jyk7XG4gICAgdmFyICRzaXplTWF4ID0gJHNpemVCb3guZmluZCgnLmpzLXNpemUtaW5wdXQtbWF4JykuY2hpbGRyZW4oJ2lucHV0Jyk7XG4gICAgdmFyICRkb29yID0gJCgnLmpzLWRvb3ItdGFyZ2V0Jyk7XG5cbiAgICBmdW5jdGlvbiBhcHBlbmRDcnVtYigkZWwpIHtcbiAgICAgIHZhciB0ZXh0ID0gJGVsLmNoaWxkcmVuKCkuaHRtbCgpO1xuICAgICAgJGJhY2tjcnVtYnMuY3NzKCdwb2ludGVyLWV2ZW50cycsICdhdXRvJyk7XG4gICAgICAkYmFja2NydW1ic0l0ZW0uaHRtbCh0ZXh0KS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ3J1bWIoKSB7XG4gICAgICAkYmFja2NydW1ic0l0ZW0uaHRtbCgnJykucGFyZW50KCkuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgJGJhY2tjcnVtYnMuY3NzKCdwb2ludGVyLWV2ZW50cycsICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VEb29yKGRvb3IpIHtcbiAgICAgICRkb29yLmhpZGUoKTtcbiAgICAgICRkb29yLmF0dHIoJ3NyYycsIGRvb3IpLmZhZGVJbigpO1xuICAgIH1cblxuICAgICRjb25zdHJ1Y3Rvckxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgJGNvbnN0cnVjdG9yLmFkZENsYXNzKCdpcy1leHBhbmQnKTtcbiAgICAgIGFwcGVuZENydW1iKCQodGhpcykpO1xuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmpzLWNvbnN0cnVjdG9yLWZpbHRlcicpLnNob3coKS5kZWxheSgxMCkucXVldWUoZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtZXhwYW5kJyk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgICRjb25zdHJ1Y3RvckJhY2sub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJlbW92ZUNydW1iKCk7XG4gICAgICAkY29uc3RydWN0b3IucmVtb3ZlQ2xhc3MoJ2lzLWV4cGFuZCcpLmZpbmQoJy5qcy1jb25zdHJ1Y3Rvci1maWx0ZXIuaXMtZXhwYW5kJykucmVtb3ZlQ2xhc3MoJ2lzLWV4cGFuZCcpLmRlbGF5KDMwMCkucXVldWUoZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgICQoJy5qcy1yYWRpby1idXR0b24nKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAkY3VycmVudEVsV3JhcCA9ICR0aGlzLmNsb3Nlc3QoJy5qcy1jb25zdHJ1Y3Rvci1maWx0ZXInKS5zaWJsaW5ncygnLmpzLWN1cnJlbnQtd3JhcCcpLFxuICAgICAgICAgICRjdXJyZW50RWxCb3ggPSAkY3VycmVudEVsV3JhcC5maW5kKCcuanMtY3VycmVudC1ib3gnKSxcbiAgICAgICAgICBjb250ZW50ID0gJHRoaXMuc2libGluZ3MoJ2xhYmVsJykuY2hpbGRyZW4oJy5qcy1jdXJyZW50LWVsJykuY2xvbmUoKSxcbiAgICAgICAgICBjdXJyZW50RG9vciA9IHRoaXMuZGF0YXNldC50YXJnZXQ7XG5cbiAgICAgIGlmICgkdGhpcy5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICBjaGFuZ2VEb29yKGN1cnJlbnREb29yKTtcbiAgICAgICAgJGN1cnJlbnRFbEJveC5odG1sKCcnKTtcbiAgICAgICAgY29udGVudC5hcHBlbmRUbygkY3VycmVudEVsQm94KTtcbiAgICAgICAgJGN1cnJlbnRFbFdyYXAuc2hvdygpO1xuICAgICAgICBhc2lkZUNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgJCgnLmpzLWNvbnN0cnVjdG9yLWNsZWFyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmpzLWN1cnJlbnQtYm94JykuaHRtbCgnJykuY2xvc2VzdCgnLmpzLWN1cnJlbnQtd3JhcCcpLmhpZGUoKS5zaWJsaW5ncygnLmpzLWNvbnN0cnVjdG9yLWZpbHRlcicpLmZpbmQoJy5qcy1yYWRpby1idXR0b246Y2hlY2tlZCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgfSk7XG4gICAgJHNpemVNaW4uYWRkKCRzaXplTWF4KS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJHNpemVNaW4udmFsKCkgPiAwICYmICRzaXplTWluLnZhbCgpICE9ICcnICYmICRzaXplTWF4LnZhbCgpID4gMCAmJiAkc2l6ZU1heC52YWwoKSAhPSAnJykge1xuICAgICAgICAkc2l6ZUJ1dHRvbi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHNpemVCdXR0b24uYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkc2l6ZUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAkZmlsdGVyID0gJHRoaXMuY2xvc2VzdCgnLmpzLWNvbnN0cnVjdG9yLWZpbHRlcicpLFxuICAgICAgICAgICRjdXJyZW50RWxXcmFwID0gJGZpbHRlci5zaWJsaW5ncygnLmpzLWN1cnJlbnQtd3JhcCcpLFxuICAgICAgICAgICRjdXJyZW50RWxCb3ggPSAkY3VycmVudEVsV3JhcC5maW5kKCcuanMtY3VycmVudC1ib3gnKSxcbiAgICAgICAgICBjb250ZW50ID0gJzxzcGFuIGNsYXNzPVwiYi1yYWRpby1idXR0b25fX3dyYXAganMtY3VycmVudC1lbFwiPjxzcGFuIGNsYXNzPVwiYi1yYWRpby1idXR0b25fX2ltYWdlXCI+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kOiAjN0M3QzdDO1wiPjxpIGNsYXNzPVwiYi1pY29uIGljb24tbWF4aW1pemVcIj48L2k+PC9zcGFuPjwvc3Bhbj48c3BhbiBjbGFzcz1cImItcmFkaW8tYnV0dG9uX190ZXh0LWxhYmVsXCI+JyArICRzaXplTWluLnZhbCgpICsgJyB4ICcgKyAkc2l6ZU1heC52YWwoKSArICc8L3NwYW4+PC9zcGFuPic7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkZmlsdGVyLmZpbmQoJy5qcy1yYWRpby1idXR0b246Y2hlY2tlZCcpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAkY3VycmVudEVsQm94Lmh0bWwoY29udGVudCk7XG4gICAgICAkY3VycmVudEVsV3JhcC5zaG93KCk7XG4gICAgICBhc2lkZUNsb3NlKCk7XG4gICAgfSk7XG4gICAgO1xuICAgICQoJy5qcy1jb25zdHJ1Y3Rvci1zbGlkZXInKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc2xpZGVyID0gJCh0aGlzKTtcbiAgICAgIHZhciBwcmV2QXJyb3cgPSAkc2xpZGVyLnBhcmVudHMoJy5iLWNvbnN0cnVjdG9yLXNsaWRlcl9fc2xpZGVyLXdyYXAnKS5maW5kKCcuanMtY29uc3RydWN0b3ItcHJldicpO1xuICAgICAgdmFyIG5leHRBcnJvdyA9ICRzbGlkZXIucGFyZW50cygnLmItY29uc3RydWN0b3Itc2xpZGVyX19zbGlkZXItd3JhcCcpLmZpbmQoJy5qcy1jb25zdHJ1Y3Rvci1uZXh0Jyk7XG4gICAgICAkc2xpZGVyLm9uKCdpbml0JywgY2hlY2tWaXNpYmlsaXR5KTtcbiAgICAgICRzbGlkZXIuc2xpY2soe1xuICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgZm9jdXNPblNlbGVjdDogZmFsc2UsXG4gICAgICAgIGluZmluaXRlOiBmYWxzZSxcbiAgICAgICAgbW9iaWxlRmlyc3Q6IHRydWUsXG4gICAgICAgIGFycm93czogdHJ1ZSxcbiAgICAgICAgcHJldkFycm93OiBwcmV2QXJyb3csXG4gICAgICAgIG5leHRBcnJvdzogbmV4dEFycm93LFxuICAgICAgICBzd2lwZTogZmFsc2UsXG4gICAgICAgIGFjY2Vzc2liaWxpdHk6IGZhbHNlXG4gICAgICB9KS5vbignYmVmb3JlQ2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGN1cnJlbnREb29yID0gJCgnLmpzLWRvb3ItYnRuJylbbmV4dFNsaWRlXS5kYXRhc2V0LnRhcmdldDtcbiAgICAgICAgY2hhbmdlRG9vcihjdXJyZW50RG9vcik7XG4gICAgICB9KS5vbignYWZ0ZXJDaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoZWNrVmlzaWJpbGl0eSh0cnVlKTtcbiAgICAgIH0pO1xuICAgICAgJCgkKCcuanMtZG9vci10YXJnZXQnKVswXSkuc2hvdygpO1xuICAgICAgJCgnLmpzLWRvb3ItYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAkc2xpZGVyLnNsaWNrKCdzbGlja0dvVG8nLCAkKHRoaXMpLmRhdGEoJ3NsaWNrLWluZGV4JykpXG4gICAgICAgIHZhciBjdXJyZW50RG9vciA9IHRoaXMuZGF0YXNldC50YXJnZXQ7XG4gICAgICAgIGNoYW5nZURvb3IoY3VycmVudERvb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNoZWNrVmlzaWJpbGl0eShjaGFuZ2UpIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybWF0aW9uID0gJCgnaHRtbCcpLmhhc0NsYXNzKCduby1vYmplY3QtZml0JykgPyAkc2xpZGVyLmZpbmQoJy5zbGljay1hY3RpdmUnKS5kYXRhKCdzbGljay1pbmRleCcpICogLTEzOCA6IE51bWJlcigkKCcuanMtY29uc3RydWN0b3Itc2xpZGVyIC5zbGljay10cmFjaycpLmNzcygndHJhbnNmb3JtJykuc3BsaXQoJywgJylbNF0pO1xuICAgICAgICB2YXIgd2lkdGhUcmFjayA9IGNoYW5nZSA/ICQoJy5qcy1jb25zdHJ1Y3Rvci1zbGlkZXIgLnNsaWNrLXRyYWNrJykuaW5uZXJXaWR0aCgpIC0gMTggKyB0cmFuc2Zvcm1hdGlvbiA6ICQoJy5qcy1jb25zdHJ1Y3Rvci1zbGlkZXIgLnNsaWNrLXRyYWNrJykuaW5uZXJXaWR0aCgpIC0gMTg7XG4gICAgICAgIHZhciB3aWR0aFNsaWRlciA9ICQoJy5qcy1jb25zdHJ1Y3Rvci1zbGlkZXInKS5wYXJlbnQoKS5pbm5lcldpZHRoKCk7XG5cbiAgICAgICAgaWYgKHdpZHRoVHJhY2sgPD0gd2lkdGhTbGlkZXIpIHtcbiAgICAgICAgICAkc2xpZGVyLnBhcmVudHMoJy5iLWNvbnN0cnVjdG9yLXNsaWRlcl9fc2xpZGVyLXdyYXAnKS5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRzbGlkZXIucGFyZW50cygnLmItY29uc3RydWN0b3Itc2xpZGVyX19zbGlkZXItd3JhcCcpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJCgnLmpzLWNvbG9yLXJhZGlvLWlucHV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdpZCcpLFxuICAgICAgICAgICAgJGxhYmVsc1dyYXAgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnNpYmxpbmdzKCk7XG5cbiAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAkbGFiZWxzV3JhcC5maW5kKCdsYWJlbCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAkbGFiZWxzV3JhcC5maW5kKCdsYWJlbFtmb3I9XCInICsgaWQgKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICQod2luZG93KS5vbigncmVzaXplJywgY2hlY2tWaXNpYmlsaXR5KTtcbiAgICB9KTtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICBvYmplY3RGaXRJbWFnZXMoJy5qcy1pbWFnZS13cmFwcGVyJyk7XG4gICAgfSk7XG4gICAgO1xuICAgIHZhciAkYXNpZGVMaW5rID0gJCgnLmpzLWFzaWRlLW9wZW4nKTtcbiAgICB2YXIgJGFzaWRlID0gJCgnLmpzLWFzaWRlJyk7XG4gICAgdmFyICRhc2lkZUNsb3NlID0gJCgnLmpzLWNsb3NlJyk7XG5cbiAgICBmdW5jdGlvbiBhc2lkZU9wZW4oKSB7XG4gICAgICBpZiAoJG1lbnUuaGFzQ2xhc3MoJ2lzLW9wZW4nKSB8fCAkYXV0aG9yaXphdGlvbi5oYXNDbGFzcygnaXMtb3BlbicpKSB7XG4gICAgICAgIG1lbnVDbG9zZSgpO1xuICAgICAgICBhdXRob3JpemF0aW9uQ2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgJGFzaWRlTGluay5hZGRDbGFzcygnaXMtb3BlbicpO1xuICAgICAgJGFzaWRlLnNob3coKS5kZWxheSgxMCkucXVldWUoZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXMtb3BlbicpO1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9KTtcbiAgICAgIGxvY2tQYWdlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXNpZGVDbG9zZSgpIHtcbiAgICAgICRhc2lkZS5yZW1vdmVDbGFzcygnaXMtb3BlbicpLmRlbGF5KDMwMCkucXVldWUoZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0pO1xuICAgICAgJGFzaWRlTGluay5yZW1vdmVDbGFzcygnaXMtb3BlbicpO1xuICAgICAgdW5sb2NrUGFnZSgpO1xuICAgIH1cblxuICAgICRhc2lkZUxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCRhc2lkZS5oYXNDbGFzcygnaXMtb3BlbicpKSB7XG4gICAgICAgIGFzaWRlQ2xvc2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzaWRlT3BlbigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgICRhc2lkZUNsb3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFzaWRlQ2xvc2UoKTtcbiAgICB9KTtcbiAgICA7XG4gICAgJCgnLmpzLWlucHV0Jykub24oJ2ZvY3VzaW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCdsYWJlbCcpLmhpZGUoKTtcbiAgICAgICQodGhpcykuY2xvc2VzdCgnLmpzLWlucHV0LXdyYXBwZXInKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgJCgnLmpzLWlucHV0Jykub24oJ2ZvY3Vzb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCEoJCh0aGlzKS52YWwoKS5sZW5ndGggPiAwKSkge1xuICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCdsYWJlbCcpLnNob3coKTtcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuanMtaW5wdXQtd3JhcHBlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICA7XG4gICAgJCgnLmpzLW1pbnVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRpbnB1dCA9ICQodGhpcykuc2libGluZ3MoJy5qcy1pbnB1dC1jb3VudCcpO1xuICAgICAgdmFyIGNvdW50ID0gcGFyc2VJbnQoJGlucHV0LnZhbCgpKSAtIDE7XG4gICAgICBjb3VudCA9IGNvdW50IDwgMSA/IDAgOiBjb3VudDtcbiAgICAgICRpbnB1dC52YWwoY291bnQpO1xuICAgICAgJGlucHV0Lm9uKCdjaGFuZ2UnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICAkKCcuanMtcGx1cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpLnNpYmxpbmdzKCcuanMtaW5wdXQtY291bnQnKTtcbiAgICAgICRpbnB1dC52YWwocGFyc2VJbnQoJGlucHV0LnZhbCgpKSArIDEpO1xuICAgICAgJGlucHV0Lm9uKCdjaGFuZ2UnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICAkKCcuanMtaW5wdXQtY291bnQnKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PSAnJykge1xuICAgICAgICBlLnRhcmdldC52YWx1ZSA9IDE7XG4gICAgICB9XG4gICAgfSk7XG4gICAgJCgnLmpzLWVkaXQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICRjYXJ0ID0gJCgnLmpzLWNhcnQnKSxcbiAgICAgICAgICAkY2FyZCA9ICQoJy5qcy1jYXJkJyk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkY2FydC5hZGRDbGFzcygnZWRpdCcpO1xuICAgICAgJCh0aGlzKS5jbG9zZXN0KCRjYXJkKS5hZGRDbGFzcygnaXMtZWRpdCcpO1xuICAgIH0pO1xuICAgICQoJy5qcy1idXR0b24tZWRpdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgJGNhcnQgPSAkKCcuanMtY2FydCcpLFxuICAgICAgICAgICRjYXJkID0gJCgnLmpzLWNhcmQnKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICRjYXJ0LnJlbW92ZUNsYXNzKCdlZGl0Jyk7XG4gICAgICAkY2FyZC5yZW1vdmVDbGFzcygnaXMtZWRpdCcpO1xuICAgIH0pO1xuICAgIDtcbiAgICAkKCcuanMtc2VhcmNoJykub24oJ2ZvY3VzaW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgICAkKCcuanMtc2VhcmNoJykub24oJ2ZvY3Vzb3V0JywgZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfSk7XG4gICAgO1xuXG4gICAgZnVuY3Rpb24gaW5pdFByb21vU2xpZGVyKCkge1xuICAgICAgdmFyICRzbGlja0VsZW1lbnQgPSAkKCcuanMtcHJvbW8tc2xpZGVyJyk7XG4gICAgICAkc2xpY2tFbGVtZW50LnNsaWNrKHtcbiAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgbW9iaWxlRmlyc3Q6IHRydWUsXG4gICAgICAgIHJlc3BvbnNpdmU6IFt7XG4gICAgICAgICAgYnJlYWtwb2ludDogMTAyMyxcbiAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgYnJlYWtwb2ludDogMTQzOSxcbiAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzXG4gICAgICAgICAgfVxuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCQoJy5qcy1wcm9tby1zbGlkZXInKS5sZW5ndGgpIHtcbiAgICAgIGluaXRQcm9tb1NsaWRlcigpO1xuICAgIH1cblxuICAgIDtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgU0VUVElOR1MgPSB7XG4gICAgICAgIGlnbm9yZTogJy5pZ25vcmUsIFt0eXBlPVwiaGlkZGVuXCJdJ1xuICAgICAgfTtcbiAgICAgICQudmFsaWRhdG9yLnNldERlZmF1bHRzKHtcbiAgICAgICAgZGVidWc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgJC5leHRlbmQoJC52YWxpZGF0b3IubWVzc2FnZXMsIHtcbiAgICAgICAgcmVxdWlyZWQ6IFwi0K3RgtC+INC+0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiLFxuICAgICAgICBlbWFpbDogXCLQndC10LLQtdGA0L3Ri9C5INGE0L7RgNC80LDRgiDQtNCw0L3QvdGL0YVcIixcbiAgICAgICAgdGVsOiBcItCd0LXQstC10YDQvdGL0Lkg0YTQvtGA0LzQsNGCINC00LDQvdC90YvRhVwiLFxuICAgICAgICAvLyB1cmw6ICfQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0LrQvtGA0YDQtdC60YLQvdGL0LkgVVJMLicsXG4gICAgICAgIGRhdGU6IFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC60L7RgNGA0LXQutGC0L3Rg9GOINC00LDRgtGDLlwiLFxuICAgICAgICBudW1iZXI6IFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INGH0LjRgdC70L4uXCIsXG4gICAgICAgIC8vIGRpZ2l0czogJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0L7QtNC40YLQtSDRgtC+0LvRjNC60L4g0YbQuNGE0YDRiy4nLFxuICAgICAgICAvLyBjcmVkaXRjYXJkOiAn0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INC/0YDQsNCy0LjQu9GM0L3Ri9C5INC90L7QvNC10YAg0LrRgNC10LTQuNGC0L3QvtC5INC60LDRgNGC0YsuJyxcbiAgICAgICAgZXF1YWxUbzogXCLQn9Cw0YDQvtC70Lgg0L3QtSDRgdC+0LLQv9Cw0LTQsNGO0YJcIiAvL21heGxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KCfQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0L3QtSDQsdC+0LvRjNGI0LUgezB9INGB0LjQvNCy0L7Qu9C+0LIuJyksXG4gICAgICAgIC8vIG1pbmxlbmd0aDogJC52YWxpZGF0b3IuZm9ybWF0KCfQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0L3QtSDQvNC10L3RjNGI0LUgezB9INGB0LjQvNCy0L7Qu9C+0LIuJyksXG4gICAgICAgIC8vIHJhbmdlbGVuZ3RoOiAkLnZhbGlkYXRvci5mb3JtYXQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDQt9C90LDRh9C10L3QuNC1INC00LvQuNC90L7QuSDQvtGCIHswfSDQtNC+IHsxfSDRgdC40LzQstC+0LvQvtCyLicpLFxuICAgICAgICAvLyByYW5nZTogJC52YWxpZGF0b3IuZm9ybWF0KCfQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0YfQuNGB0LvQviDQvtGCIHswfSDQtNC+IHsxfS4nKSxcbiAgICAgICAgLy8gbWF4OiAkLnZhbGlkYXRvci5mb3JtYXQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDRh9C40YHQu9C+LCDQvNC10L3RjNGI0LXQtSDQuNC70Lgg0YDQsNCy0L3QvtC1IHswfS4nKSxcbiAgICAgICAgLy8gbWluOiAkLnZhbGlkYXRvci5mb3JtYXQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDRh9C40YHQu9C+LCDQsdC+0LvRjNGI0LXQtSDQuNC70Lgg0YDQsNCy0L3QvtC1IHswfS4nKVxuXG4gICAgICB9KTtcbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcIm1heC1sZW5ndGhcIiwgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50LCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA8PSBwYXJhbXM7XG4gICAgICB9LCBcItCS0LLQtdC00LjRgtC1INC90LUg0LHQvtC70LXQtSAxNDAg0YHQuNC80LLQvtC70L7QslwiKTtcbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcImpzLXRlbC1pbnB1dFwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHZhbHVlLnRyaW0oKS5sZW5ndGggPT0gMTYpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwgXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0L3QtSDQvNC10L3QtdC1IDEyINGB0LjQvNCy0L7Qu9C+0LJcIik7XG4gICAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJqcy1tYXNrLXRlbFwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdmFsdWUuaW5kZXhPZignXycpID09IC0xO1xuICAgICAgfSwgXCLQndC10LLQtdGA0L3Ri9C5INGE0L7RgNC80LDRgiDQtNCw0L3QvdGL0YVcIik7XG4gICAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJqcy12YWxpZC10ZXh0XCIsIGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xuICAgICAgICBpZiAodmFsdWUudHJpbSgpICE9ICcnKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sIFwi0J3QtdCy0LXRgNC90YvQuSDRhNC+0YDQvNCw0YIg0LTQsNC90L3Ri9GFXCIpO1xuICAgICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFwianMtcmVnZXhcIiwgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIGlmICh2YWx1ZS50cmltKCkgIT0gJycpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAvXlthLXpBLVrQsC3Rj9CQLdCv0IHRkSBdKyQvLnRlc3QodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBcItCi0L7Qu9GM0LrQviDQsdGD0LrQstGLXCIpO1xuICAgICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFwianMtdmFsaWQtZGF0ZVwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBub3dEYXRlID0gbm93LmdldEZ1bGxZZWFyKCkgKyAnLScgKyAobm93LmdldE1vbnRoKCkgKyAxKSArICctJyArIG5vdy5nZXREYXRlKCk7XG4gICAgICAgIHZhciAkcmVzdWx0O1xuICAgICAgICB2YXIgZF9hcnIgPSB2YWx1ZS5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKGRfYXJyWzJdICsgJy8nICsgZF9hcnJbMV0gKyAnLycgKyBkX2FyclswXSArICcnKTsgLy8g0LTQsNGC0LAg0LIg0YTQvtGA0LzQsNGC0LUgMjAxNC8xMi8zMVxuXG4gICAgICAgIGlmIChkX2FyclsyXSAhPSBkLmdldEZ1bGxZZWFyKCkgfHwgZF9hcnJbMV0gIT0gZC5nZXRNb250aCgpICsgMSB8fCBkX2FyclswXSAhPSBkLmdldERhdGUoKSkge1xuICAgICAgICAgICRyZXN1bHQgPSBmYWxzZTsgLy8g0L3QtdC60LrQvtGA0LXQutGC0L3QsNGPINC00LDRgtCwXG4gICAgICAgIH0gZWxzZSBpZiAoRGF0ZS5wYXJzZShub3dEYXRlKSA8PSBEYXRlLnBhcnNlKGQpKSB7XG4gICAgICAgICAgJHJlc3VsdCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHJlc3VsdCA9IGZhbHNlOyAvLyDQvdC10LrQutC+0YDQtdC60YLQvdCw0Y8g0LTQsNGC0LBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8ICRyZXN1bHQ7XG4gICAgICB9LCBcItCd0LXQutC+0YDRgNC10LrRgtC90LDRjyDQtNCw0YLQsFwiKTtcbiAgICAgIHZhciBjaGVja2luZztcbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcImpzLXJlbW90ZS1lbWFpbFwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGlzU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDogJChcIltkYXRhLXJlbW90ZS1lbWFpbF1cIikuZGF0YShcInJlbW90ZS1lbWFpbFwiKSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKG1zZykge1xuICAgICAgICAgICAgaXNTdWNjZXNzID0gbXNnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc1N1Y2Nlc3M7XG4gICAgICB9LCBcIkUtbWFpbCDRg9C20LUg0LfQsNC90Y/RglwiKTtcbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcImpzLXJlbW90ZS1waG9uZVwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGlzU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDogJChlbGVtZW50KS5kYXRhKFwicmVtb3RlLXBob25lXCIpLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MobXNnKSB7XG4gICAgICAgICAgICBpc1N1Y2Nlc3MgPSBtc2c7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlzU3VjY2VzcztcbiAgICAgIH0sIFwi0KLQtdC70LXRhNC+0L0g0YPQttC1INC30LDQvdGP0YJcIik7XG4gICAgICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJtYXgtbWVzc2FnZVwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgLyg/PS4qWzAtOV0pKD89LipbYS16XSkoPz0uKltBLVpdKVswLTlhLXpBLVohQCMkJV4mKl17Nix9L2kudGVzdCh2YWx1ZSk7XG4gICAgICB9LCBcItCf0LDRgNC+0LvRjCDQtNC+0LvQttC10L0g0YHQvtC00LXRgNC20LDRgtGMINC90LUg0LzQtdC90LXQtSA2INGB0LjQvNCy0L7Qu9C+0LIsINCyINGC0L7QvCDRh9C40YHQu9C1INGG0LjRhNGA0Ysg0Lgg0LHRg9C60LLRiyDQu9Cw0YLQuNC90YHQutC+0LPQviDQsNC70YTQsNCy0LjRgtCwXCIpO1xuICAgICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFwianMtcmVtb3RlLXN1YnNjcmliZVwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGlzU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHVybDogJChlbGVtZW50KS5kYXRhKFwicmVtb3RlLXN1YnNjcmliZVwiKSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKG1zZykge1xuICAgICAgICAgICAgaXNTdWNjZXNzID0gbXNnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc1N1Y2Nlc3M7XG4gICAgICB9LCBcItCU0LDQvdC90YvQuSBFLW1haWwg0YPQttC1INGD0YfQsNGB0YLQstGD0LXRgiDQsiDRgNCw0YHRgdGL0LvQutC1XCIpO1xuICAgICAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFwiZmlsZXJlcWlyZWRcIiwgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50LCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuICQoZWxlbWVudCkuYXR0cihcInR5cGVcIikgPT09IFwiZmlsZVwiICYmIGVsZW1lbnQuZmlsZXMgJiYgZWxlbWVudC5maWxlcy5sZW5ndGg7XG4gICAgICB9LCBcItCk0LDQudC7INC90LUg0LTQvtCx0LDQstC70LXQvVwiKTtcbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcImV4dGVuc2lvblwiLCBmdW5jdGlvbiAodmFsdWUsIGVsZW1lbnQsIHBhcmFtKSB7XG4gICAgICAgIHBhcmFtID0gdHlwZW9mIHBhcmFtID09PSBcInN0cmluZ1wiID8gcGFyYW0ucmVwbGFjZSgvLC9nLCBcInxcIikgOiBcInBuZ3xqcGU/Z3xnaWZcIjtcblxuICAgICAgICBpZiAoJChlbGVtZW50KS5hdHRyKFwidHlwZVwiKSA9PT0gXCJmaWxlXCIgJiYgZWxlbWVudC5maWxlcyAmJiBlbGVtZW50LmZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudC5maWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uYWwoZWxlbWVudCkgfHwgZWxlbWVudC5maWxlc1tpXS5uYW1lLm1hdGNoKG5ldyBSZWdFeHAoXCJcXFxcLihcIiArIHBhcmFtICsgXCIpJFwiLCBcImlcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSwgJC52YWxpZGF0b3IuZm9ybWF0KFwiXCIpKTtcbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcIm1heHNpemVcIiwgZnVuY3Rpb24gKHZhbHVlLCBlbGVtZW50LCBwYXJhbSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25hbChlbGVtZW50KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyYW0gPSBwYXJhbSAqIDEwMjQ7XG5cbiAgICAgICAgaWYgKCQoZWxlbWVudCkuYXR0cihcInR5cGVcIikgPT09IFwiZmlsZVwiICYmIGVsZW1lbnQuZmlsZXMgJiYgZWxlbWVudC5maWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnQuZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmZpbGVzW2ldLnNpemUgPD0gcGFyYW07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LCBcIlwiKTtcbiAgICAgICQudmFsaWRhdG9yLmFkZE1ldGhvZChcImVudGVyLWVtYWlsXCIsIGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAvXlthLXpBLVowLTkuISMkJSYnKitcXC89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLy50ZXN0KHZhbHVlKSB8fCAvXihcXCs3fDd8OCk/W1xcc1xcLV0/XFwoP1s0ODldWzAtOV17Mn1cXCk/W1xcc1xcLV0/WzAtOV17M31bXFxzXFwtXT9bMC05XXsyfVtcXHNcXC1dP1swLTldezJ9JC8udGVzdCh2YWx1ZSk7XG4gICAgICB9LCBcItCd0LXQstC10YDQvdGL0Lkg0YTQvtGA0LzQsNGCINC00LDQvdC90YvRhVwiKTtcbiAgICAgICQoXCJib2R5XCIpLm9uKFwiaW5pdFZhbGlkYXRpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAkKFwiLmpzLWZvcm0tdmFsaWRhdGVcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICB2YXIgbG9jYWxTZXR0aW5ncyA9IHt9O1xuXG4gICAgICAgICAgaWYgKCR0aGlzLmhhc0NsYXNzKFwianMtb3JkZXItdW5yZWdpc3RlcmVkLWZvcm1cIikpIHtcbiAgICAgICAgICAgIGxvY2FsU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgIGZvY3VzSW52YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgZXJyb3JQbGFjZW1lbnQ6IGZ1bmN0aW9uIGVycm9yUGxhY2VtZW50KGVycm9yLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZXJyb3IuaW5zZXJ0QWZ0ZXIoZWxlbWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQobG9jYWxTZXR0aW5ncywgU0VUVElOR1MpO1xuXG4gICAgICAgICAgaWYgKCR0aGlzLmRhdGEoXCJlcnJvci1zZWxlY3RvclwiKSkge1xuICAgICAgICAgICAgc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lciA9ICR0aGlzLmRhdGEoXCJlcnJvci1zZWxlY3RvclwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdmFsaWRhdG9yID0gJHRoaXMudmFsaWRhdGUoc2V0dGluZ3MpO1xuICAgICAgICAgIHZhciAkcmVtb3RlID0gJHRoaXMuZmluZChcImlucHV0LmpzLXJlbW90ZS1zdWJzY3JpYmUsIGlucHV0LmpzLXJlbW90ZS11c2VyLCBpbnB1dC5qcy1yZW1vdGUtcGhvbmUsIGlucHV0LmpzLXJlbW90ZS1lbWFpbFwiKTtcbiAgICAgICAgICAkcmVtb3RlLm9uKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgJHRoaXMuYWRkQ2xhc3MoXCJpZ25vcmVcIik7XG4gICAgICAgICAgfSkub24oXCJrZXl1cFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoY2hlY2tpbmcpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBjaGVja2luZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkcmVtb3RlLnJlbW92ZUNsYXNzKFwiaWdub3JlXCIpO1xuICAgICAgICAgICAgICB2YWxpZGF0b3IuZWxlbWVudChfdGhpcyk7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcyhcImpzLW9yZGVyLXVucmVnaXN0ZXJlZC1mb3JtXCIpKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdG9yID0gJHRoaXMudmFsaWRhdGUoc2V0dGluZ3MpO1xuICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJHRoaXMub24oXCJyZXNldFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhbGlkYXRvci5yZXNldEZvcm0oKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkdGhpcy5vbihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0b3IubnVtYmVyT2ZJbnZhbGlkcygpID4gMCkge1xuICAgICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciAkZm9ybSA9ICR0aGlzO1xuICAgICAgICAgICAgICB2YXIgdXJsID0gJGZvcm0uYXR0cihcImFjdGlvblwiKSB8fCBsb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgICB2YXIgbWV0aG9kID0gJGZvcm0uYXR0cihcIm1ldGhvZFwiKTtcbiAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gJGZvcm0uZGF0YShcImV2ZW50XCIpO1xuICAgICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoJHRoaXNbMF0pO1xuICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9ICQoXCJkaXZbZGF0YS1wb3B1cH49J3N1Y2Nlc3MnXVwiKTtcbiAgICAgICAgICAgICAgICAgIHBvcHVwLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAkdGhpc1swXS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIHBvcHVwID0gJChcImRpdltkYXRhLXBvcHVwfj0nZXJyb3InXVwiKTtcbiAgICAgICAgICAgICAgICAgIHBvcHVwLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAkdGhpc1swXS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHRoaXMuZmluZChcIi5qcy1saWNlbmNlLWFjY2VwdFwiKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyICRidXR0b24gPSAkdGhpcy5maW5kKCdidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xuXG4gICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAkYnV0dG9uLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkYnV0dG9uLmFkZENsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHRoaXMuZmluZChcIi5qcy1jaGVjay1mb3JtXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAodmFsaWRhdG9yLm51bWJlck9mSW52YWxpZHMoKSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbGlkYXRvci5mb3JtKCk7XG4gICAgICAgICAgICAkdGhpcy52YWxpZCgpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGlmICh2YWxpZGF0b3IubnVtYmVyT2ZJbnZhbGlkcygpID09IDApIHtcbiAgICAgICAgICAgICAgICAkdGhhdC50cmlnZ2VyKFwicG9wdXAub25PcGVuXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkKCcuanMtc2ltcGxlLXNlbGVjdCcpLm9uKCdzZWxlY3QyOnNlbGVjdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhbGlkYXRvci5lbGVtZW50KHRoaXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgJChcImJvZHlcIikudHJpZ2dlcihcImluaXRWYWxpZGF0aW9uXCIpO1xuICAgIH0pO1xuICAgIDtcbiAgICB2YXIgJGF1dGhvcml6YXRpb25MaW5rID0gJCgnLmpzLWF1dGhvcml6YXRpb24tb3BlbicpO1xuICAgIHZhciAkYXV0aG9yaXphdGlvbiA9ICQoJy5qcy1hdXRob3JpemF0aW9uJyk7XG4gICAgdmFyICRhdXRob3JpemF0aW9uQ2xvc2UgPSAkKCcuanMtY2xvc2UnKTtcblxuICAgIGZ1bmN0aW9uIGF1dGhvcml6YXRpb25PcGVuKCkge1xuICAgICAgaWYgKCRtZW51Lmhhc0NsYXNzKCdpcy1vcGVuJykgfHwgJGFzaWRlLmhhc0NsYXNzKCdpcy1vcGVuJykpIHtcbiAgICAgICAgbWVudUNsb3NlKCk7XG4gICAgICAgIGFzaWRlQ2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgJGF1dGhvcml6YXRpb25MaW5rLmFkZENsYXNzKCdpcy1vcGVuJyk7XG4gICAgICAkYXV0aG9yaXphdGlvbi5zaG93KCkuZGVsYXkoMTApLnF1ZXVlKGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzLW9wZW4nKTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSk7XG4gICAgICBsb2NrUGFnZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF1dGhvcml6YXRpb25DbG9zZSgpIHtcbiAgICAgICRhdXRob3JpemF0aW9uLnJlbW92ZUNsYXNzKCdpcy1vcGVuJykuZGVsYXkoMzAwKS5xdWV1ZShmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSk7XG4gICAgICAkYXV0aG9yaXphdGlvbkxpbmsucmVtb3ZlQ2xhc3MoJ2lzLW9wZW4nKTtcbiAgICAgIHVubG9ja1BhZ2UoKTtcbiAgICB9XG5cbiAgICAkYXV0aG9yaXphdGlvbkxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCRhdXRob3JpemF0aW9uLmhhc0NsYXNzKCdpcy1vcGVuJykpIHtcbiAgICAgICAgYXV0aG9yaXphdGlvbkNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdXRob3JpemF0aW9uT3BlbigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgICRhdXRob3JpemF0aW9uQ2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgYXV0aG9yaXphdGlvbkNsb3NlKCk7XG4gICAgfSk7XG4gICAgO1xuICAgIHZhciAkcGFzc3dvcmRJbnB1dCA9ICQoJy5qcy1pbnB1dC1wYXNzd29yZCcpO1xuICAgIHZhciAkcGFzc3dvcmRXcmFwcGVyID0gJCgnLmpzLWlucHV0LXBhc3N3b3JkJykucGFyZW50KCk7XG4gICAgdmFyICRwYXNzd29yZEJ1dHRvbiA9ICQoJy5qcy1idXR0b24tcGFzc3dvcmQnKTtcbiAgICB2YXIgJGxvZ2luSW5wdXQgPSAkKCcuanMtaW5wdXQtbG9naW4nKTtcbiAgICB2YXIgJGxvZ2luQnV0dG9uID0gJCgnLmpzLWJ1dHRvbi1sb2dpbicpO1xuICAgICRwYXNzd29yZEJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoJHBhc3N3b3JkV3JhcHBlci5oYXNDbGFzcygnaXMtdmlzaWJsZScpKSB7XG4gICAgICAgICRwYXNzd29yZElucHV0LmF0dHIoJ3R5cGUnLCAncGFzc3dvcmQnKTtcbiAgICAgICAgJHBhc3N3b3JkV3JhcHBlci5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHBhc3N3b3JkSW5wdXQuYXR0cigndHlwZScsICd0ZXh0Jyk7XG4gICAgICAgICRwYXNzd29yZFdyYXBwZXIuYWRkQ2xhc3MoJ2lzLXZpc2libGUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkcGFzc3dvcmRJbnB1dC5hZGQoJGxvZ2luSW5wdXQpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgkcGFzc3dvcmRJbnB1dC52YWwoKS5sZW5ndGggPiAwICYmICRsb2dpbklucHV0LnZhbCgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJGxvZ2luQnV0dG9uLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkbG9naW5CdXR0b24uYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICA7XG4gIH1cblxuICA7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGRvY3VtZW50UmVhZHkpO1xufSkoKTsiXX0=
