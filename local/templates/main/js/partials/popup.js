"use strict";$(document).ready(function(){function o(){e.hasClass("open")&&($page.removeClass("no-scroll no-touch windows"),e.removeClass("open"),e.stop().fadeOut(300))}function n(o,n){var p=document,e=p.body,t=p.querySelector(n),s="client"+o;return o="scroll"+o,/CSS/.test(p.compatMode)?t[s]<t[o]:e[s]<e[o]}function p(){$(this).trigger("popup.open",[o]);var o=$(".b-popup[data-popup='"+$(this).attr("data-popup")+"']");o.length>0&&(s&&n("Height",".b-page-wrapper")&&$page.addClass("windows"),e.removeClass("open"),e.fadeOut(300),$page.addClass("no-scroll no-touch"),o.addClass("open"),o.css("display","flex").hide().fadeIn(300))}var e=$(".b-popup"),t=$(".b-popup__content"),s=navigator.userAgent.toLowerCase().indexOf("windows")!==-1;$(".js-open-popup").on("popup.onClose",function(n){o()}),$(document).on("click",".js-open-popup",function(){$(this).trigger("popup.onOpen")}),$(".js-open-popup").on("popup.onOpen",function(){p.call(this)}),$(document).on("click",".js-close-popup",function(){o(),$(".js-menu-in-popup-back").length&&$(".js-menu-in-popup-back").trigger("click")}),$(document).on("keydown",function(n){27===n.keyCode&&o()}),$(document).mouseup(function(n){e.hasClass("open")&&(t.is(n.target)||0!==t.has(n.target).length||o())})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcnRpYWxzL3BvcHVwLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiY2xvc2VQb3BVcCIsIiRwb3BVcCIsImhhc0NsYXNzIiwiJHBhZ2UiLCJyZW1vdmVDbGFzcyIsInN0b3AiLCJmYWRlT3V0IiwiZ2V0U2Nyb2xsIiwic2Nyb2xsIiwic2VsZWN0b3IiLCJkb2MiLCJib2R5IiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGllbnQiLCJ0ZXN0IiwiY29tcGF0TW9kZSIsIm9wZW5Qb3BVcCIsInRoaXMiLCJ0cmlnZ2VyIiwiJHBvcFVwRGF0ZSIsImF0dHIiLCJsZW5ndGgiLCJ3aW5kb3dzT1MiLCJhZGRDbGFzcyIsImNzcyIsImhpZGUiLCJmYWRlSW4iLCIkcG9wVXBDb250ZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwib24iLCJldmVudCIsImNhbGwiLCJrZXlDb2RlIiwibW91c2V1cCIsImUiLCJpcyIsInRhcmdldCIsImhhcyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFRQUEsR0FBRUMsVUFBVUMsTUFBTSxXQVFoQixRQUFTQyxLQUVIQyxFQUFPQyxTQUFTLFVBQ2xCQyxNQUFNQyxZQUFZLDhCQUNsQkgsRUFBT0csWUFBWSxRQUNuQkgsRUFBT0ksT0FBT0MsUUFBUSxNQUsxQixRQUFTQyxHQUFVQyxFQUFRQyxHQUN6QixHQUFJQyxHQUFNWixTQUNOYSxFQUFPRCxFQUFJQyxLQUNYQyxFQUFVRixFQUFJRyxjQUFjSixHQUM1QkssRUFBUyxTQUFXTixDQUV4QixPQURBQSxHQUFTLFNBQVdBLEVBQ2IsTUFBTU8sS0FBS0wsRUFBSU0sWUFBY0osRUFBUUUsR0FBVUYsRUFBUUosR0FBVUcsRUFBS0csR0FBVUgsRUFBS0gsR0FZOUYsUUFBU1MsS0FFUHBCLEVBQUVxQixNQUFNQyxRQUFRLGNBQWVDLEdBQy9CLElBQUlBLEdBQWF2QixFQUFFLHdCQUEyQkEsRUFBRXFCLE1BQU1HLEtBQUssY0FBZ0IsS0FFdkVELEdBQVdFLE9BQVMsSUFFbEJDLEdBQWFoQixFQUFVLFNBQVUsb0JBQ25DSixNQUFNcUIsU0FBUyxXQUlqQnZCLEVBQU9HLFlBQVksUUFDbkJILEVBQU9LLFFBQVEsS0FDZkgsTUFBTXFCLFNBQVMsc0JBQ2ZKLEVBQVdJLFNBQVMsUUFDcEJKLEVBQVdLLElBQUksVUFBVyxRQUFRQyxPQUFPQyxPQUFPLE1BbkRwRCxHQUFJMUIsR0FBU0osRUFBRSxZQUNYK0IsRUFBZ0IvQixFQUFFLHFCQUNsQjBCLEVBQVlNLFVBQVVDLFVBQVVDLGNBQWNDLFFBQVEsZUFDMURuQyxHQUFFLGtCQUFrQm9DLEdBQUcsZ0JBQWlCLFNBQVVDLEdBQ2hEbEMsTUF1QkZILEVBQUVDLFVBQVVtQyxHQUFHLFFBQVMsaUJBQWtCLFdBQ3hDcEMsRUFBRXFCLE1BQU1DLFFBQVEsa0JBR2xCdEIsRUFBRSxrQkFBa0JvQyxHQUFHLGVBQWdCLFdBQ3JDaEIsRUFBVWtCLEtBQUtqQixRQXdCakJyQixFQUFFQyxVQUFVbUMsR0FBRyxRQUFTLGtCQUFtQixXQUN6Q2pDLElBRUlILEVBQUUsMEJBQTBCeUIsUUFDOUJ6QixFQUFFLDBCQUEwQnNCLFFBQVEsV0FJeEN0QixFQUFFQyxVQUFVbUMsR0FBRyxVQUFXLFNBQVVDLEdBQ1osS0FBbEJBLEVBQU1FLFNBQ1JwQyxNQUdKSCxFQUFFQyxVQUFVdUMsUUFBUSxTQUFVQyxHQUN4QnJDLEVBQU9DLFNBQVMsVUFFYjBCLEVBQWNXLEdBQUdELEVBQUVFLFNBQWtELElBQXZDWixFQUFjYSxJQUFJSCxFQUFFRSxRQUFRbEIsUUFDN0R0QiIsImZpbGUiOiJwYXJ0aWFscy9wb3B1cC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PVxuLy8gcm9iaW56b246IHBvcHVwLmpzXG4vLyAxNS4wMS4yMDE4OiBBbWVkb21hcnlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8g0J7RgtC60YDRi9GC0LjQtSDQv9C+0L/QkNC/0LAg0Lgg0LfQsNC/0YDQtdGCINGB0LrRgNC+0LvQsCDQvdCwIGJvZHlcbi8vID09PT09PT09PT09PT09PT09PT09XG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gIHZhciAkcG9wVXAgPSAkKCcuYi1wb3B1cCcpO1xuICB2YXIgJHBvcFVwQ29udGVudCA9ICQoJy5iLXBvcHVwX19jb250ZW50Jyk7XG4gIHZhciB3aW5kb3dzT1MgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignd2luZG93cycpICE9PSAtMTtcbiAgJCgnLmpzLW9wZW4tcG9wdXAnKS5vbigncG9wdXAub25DbG9zZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNsb3NlUG9wVXAoKTtcbiAgfSk7IC8vINCX0LDQutGA0YvRgtC40LUg0L/QvtC/0JDQv9C+0LJcblxuICBmdW5jdGlvbiBjbG9zZVBvcFVwKCkge1xuICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQvtGC0LrRgNGL0YIg0LvQuCDQv9C+0L/QkNC/XG4gICAgaWYgKCRwb3BVcC5oYXNDbGFzcygnb3BlbicpKSB7XG4gICAgICAkcGFnZS5yZW1vdmVDbGFzcygnbm8tc2Nyb2xsIG5vLXRvdWNoIHdpbmRvd3MnKTtcbiAgICAgICRwb3BVcC5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgJHBvcFVwLnN0b3AoKS5mYWRlT3V0KDMwMCk7XG4gICAgfVxuICB9IC8vINCf0YDQvtCy0LXRgNC60LAg0L3QsCDQvdCw0LvQuNGH0LjQtSDRgdC60YDQvtC70LDQsFxuXG5cbiAgZnVuY3Rpb24gZ2V0U2Nyb2xsKHNjcm9sbCwgc2VsZWN0b3IpIHtcbiAgICB2YXIgZG9jID0gZG9jdW1lbnQ7XG4gICAgdmFyIGJvZHkgPSBkb2MuYm9keTtcbiAgICB2YXIgZWxlbWVudCA9IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB2YXIgY2xpZW50ID0gJ2NsaWVudCcgKyBzY3JvbGw7XG4gICAgc2Nyb2xsID0gJ3Njcm9sbCcgKyBzY3JvbGw7XG4gICAgcmV0dXJuIC9DU1MvLnRlc3QoZG9jLmNvbXBhdE1vZGUpID8gZWxlbWVudFtjbGllbnRdIDwgZWxlbWVudFtzY3JvbGxdIDogYm9keVtjbGllbnRdIDwgYm9keVtzY3JvbGxdO1xuICB9IC8vINCa0LvQuNC6INC/0L4g0YHRgdGL0LvQutC1INC+0YLQutGA0YvQstCw0Y7RidC10Lkg0L/QvtC/0JDQv1xuXG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1vcGVuLXBvcHVwJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykudHJpZ2dlcigncG9wdXAub25PcGVuJyk7XG4gIH0pOyAvLyDQmtCw0YHRgtC+0LzQvdC+0LUg0YHQvtCx0YvRgtC40LUg0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QkNC/XG5cbiAgJCgnLmpzLW9wZW4tcG9wdXAnKS5vbigncG9wdXAub25PcGVuJywgZnVuY3Rpb24gKCkge1xuICAgIG9wZW5Qb3BVcC5jYWxsKHRoaXMpO1xuICB9KTtcblxuICBmdW5jdGlvbiBvcGVuUG9wVXAoKSB7XG4gICAgLy8g0KHQvtC30LTQsNC10Lwg0YLQuNC/0LAgY2FsbGJhY2tcbiAgICAkKHRoaXMpLnRyaWdnZXIoJ3BvcHVwLm9wZW4nLCBbJHBvcFVwRGF0ZV0pO1xuICAgIHZhciAkcG9wVXBEYXRlID0gJCgnLmItcG9wdXBbZGF0YS1wb3B1cD1cXCcnICsgJCh0aGlzKS5hdHRyKCdkYXRhLXBvcHVwJykgKyAnXFwnXScpOyAvLyDQn9GA0L7QstC10YDRj9C10Lwg0LXRgdGC0Ywg0LvQuCDQvdCw0Lwg0YfRgtC+INC+0YLQutGA0YvRgtGMXG5cbiAgICBpZiAoJHBvcFVwRGF0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L7Qv9C10YDQsNGG0LjQvtC90L3Rg9GOINGB0LjRgdGC0LXQvNGDINC90LAgV2luINC4INCh0LrRgNC+0LvQu1xuICAgICAgaWYgKHdpbmRvd3NPUyAmJiBnZXRTY3JvbGwoJ0hlaWdodCcsICcuYi1wYWdlLXdyYXBwZXInKSkge1xuICAgICAgICAkcGFnZS5hZGRDbGFzcygnd2luZG93cycpO1xuICAgICAgfSAvLyDQl9Cw0LrRgNGL0LLQsNC10Lwg0L/QtdGA0LXQtCDQvtGC0LrRgNGL0YLQuNC80LUg0LTRgNGD0LPQuNC1XG5cblxuICAgICAgJHBvcFVwLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAkcG9wVXAuZmFkZU91dCgzMDApO1xuICAgICAgJHBhZ2UuYWRkQ2xhc3MoJ25vLXNjcm9sbCBuby10b3VjaCcpO1xuICAgICAgJHBvcFVwRGF0ZS5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgJHBvcFVwRGF0ZS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpLmhpZGUoKS5mYWRlSW4oMzAwKTtcbiAgICB9XG4gIH0gLy8g0JrQu9C40Log0L/QviDQl9Cw0LrRgNGL0YLQuNGOINC/0L7Qv9CQ0L/QvtCyXG5cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWNsb3NlLXBvcHVwJywgZnVuY3Rpb24gKCkge1xuICAgIGNsb3NlUG9wVXAoKTtcblxuICAgIGlmICgkKCcuanMtbWVudS1pbi1wb3B1cC1iYWNrJykubGVuZ3RoKSB7XG4gICAgICAkKCcuanMtbWVudS1pbi1wb3B1cC1iYWNrJykudHJpZ2dlcignY2xpY2snKTtcbiAgICB9XG4gIH0pOyAvLyDQltC80Y/QuiDQv9C+IEVzY1xuXG4gICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICBjbG9zZVBvcFVwKCk7XG4gICAgfVxuICB9KTtcbiAgJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbiAoZSkge1xuICAgIGlmICgkcG9wVXAuaGFzQ2xhc3MoJ29wZW4nKSkge1xuICAgICAgLy8g0JrQu9C40Log0L3QtSDQv9C+INCa0L7QvdGC0LXQvdGC0YMg0Lgg0L3QtSDQtdCz0L4g0LTQvtGH0LrQsNC8XG4gICAgICBpZiAoISRwb3BVcENvbnRlbnQuaXMoZS50YXJnZXQpICYmICRwb3BVcENvbnRlbnQuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY2xvc2VQb3BVcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KTsiXX0=
